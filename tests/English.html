<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mock Test – English by Yash</title>

<style>
/* Professional Glassmorphism Theme */
:root{
  --color-primary: #1a2a6c;
  --color-secondary: #2575fc;
  --color-accent: #f2994a;
  --glass: rgba(255, 255, 255, 0.12);
  --glass-border: rgba(255, 255, 255, 0.25);
  --success: #16a34a;
  --danger: #ef4444;
}

*{box-sizing:border-box; margin:0; padding:0; font-family:'Segoe UI', Tahoma, sans-serif;}

body{
  min-height:100vh;
  background: linear-gradient(-45deg, var(--color-primary), var(--color-secondary), var(--color-primary), var(--color-accent));
  background-size: 300% 300%;
  animation: dynamicFlow 18s ease-in-out infinite;
  color: #fff;
  padding: 20px 10px;
}

@keyframes dynamicFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.5); opacity: 0.5; }
  100% { transform: scale(1); opacity: 1; }
}

.container{ max-width:900px; margin:auto; position: relative; z-index: 2; }

h1{ text-align:center; margin-bottom:10px; font-weight: 800; text-shadow: 0 4px 10px rgba(0,0,0,0.3); }

/* START SCREEN */
.start-screen{
  background: var(--glass);
  backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  padding: 40px 20px;
  border-radius: 30px;
  text-align:center;
  margin-top: 50px;
}

.start-screen input {
  width: 100%;
  max-width: 300px;
  padding: 15px;
  margin: 10px 0;
  border-radius: 15px;
  border: 1px solid var(--glass-border);
  background: rgba(255, 255, 255, 0.15);
  color: #ffffff !important;
  font-size: 16px;
  outline: none;
}

.start-screen input::placeholder {
  color: rgba(255, 255, 255, 0.8) !important;
}

.q-count-sticker {
  margin: 5px auto 15px;
  width: fit-content;
  background: rgba(255, 255, 255, 0.1);
  padding: 8px 20px;
  border-radius: 50px;
  border: 1px solid var(--glass-border);
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.pulse-dot {
  width: 8px;
  height: 8px;
  background: #4facfe;
  border-radius: 50%;
  animation: pulse 1.5s infinite;
}

button{
  padding: 14px 28px;
  border: none;
  border-radius: 15px;
  background: linear-gradient(135deg, #ff9800, #ff5722);
  color: #fff;
  cursor: pointer;
  font-weight: 700;
  transition: 0.3s;
}
button:hover{ transform: scale(1.05); }

.top-bar{
  display:none; justify-content:space-between; align-items:center;
  padding:15px 25px; background: var(--glass);
  backdrop-filter: blur(15px);
  border:1px solid var(--glass-border); border-radius:50px;
  position:sticky; top:10px; z-index:100; margin-bottom:15px;
}
.timer{ font-weight:800; color:#fff; background: var(--danger); padding: 5px 15px; border-radius: 20px; }

#palette{ 
  display:none; flex-wrap:wrap; gap:8px; margin-bottom:20px; 
  justify-content: center; padding: 10px;
}
.palette span{
  width:38px; height:38px; display:flex; align-items:center; justify-content:center;
  border-radius:10px; background: rgba(255,255,255,0.1); 
  border: 1px solid var(--glass-border); cursor:pointer; font-size: 13px;
}
.palette .visited{ background: var(--color-secondary); }
.palette .attempted{ background: var(--success); box-shadow: 0 0 8px var(--success); }

.quiz-card{
  background: var(--glass); border:1px solid var(--glass-border);
  backdrop-filter: blur(20px); border-radius:25px; padding:30px;
}
.options label{
  display:flex; align-items: center; gap:12px; padding:14px; 
  background: rgba(255,255,255,0.05); border:1px solid var(--glass-border);
  border-radius:15px; margin:10px 0; cursor:pointer; transition: 0.2s;
}
.options label:hover{ background: rgba(255,255,255,0.15); transform: translateX(5px); }

.nav{ display:flex; justify-content:space-between; margin-top:20px; }
.btn-secondary { background: rgba(255,255,255,0.15); }

.result{ background: var(--glass); padding: 25px; border-radius: 25px; margin-top:20px; }
.correct{ color: #4ade80; font-weight:bold; }
.wrong{ color: #f87171; font-weight:bold; }

.sol-box {
  margin-top:12px; 
  padding:12px; 
  background:rgba(242, 153, 74, 0.15); 
  border-radius:12px; 
  font-size:14px; 
  color:#ffcc80;
  border: 1px dashed var(--color-accent);
}
</style>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  (function () {
    emailjs.init("L8kGW-X7JOiYaycH5");
  })();
</script>
</head>

<body>

<div class="container">
  <h1>Target Test- English 2026</h1>
  <p style="text-align:center; opacity:0.8; font-size:13px; margin-bottom:20px; color:#fff;">Last Updated: 15 Jan 2026 - 17:54</p>

  <div class="start-screen" id="startScreen">
    <input id="candidateName" placeholder="Enter your name">
    <input id="testTime" type="number" placeholder="Time (minutes)">
    
    <div class="q-count-sticker">
      <span class="pulse-dot"></span>
      <span>Questions Loaded: <b id="totalQDisplay">0</b></span>
    </div>

    <div style="margin-top:15px; display:flex; gap:10px; justify-content:center;">
      <button onclick="startTest()">Start Test</button>
      <button type="button" class="btn-secondary" onclick="window.location.href='../index.html'">Go Back</button>
    </div>
  </div>

  <div class="top-bar" id="topBar">
    <div><small style="opacity:0.9;">CANDIDATE:</small><br><b id="displayName"></b></div>
    <div class="timer" id="timer">00:00</div>
  </div>

  <div id="palette" class="palette"></div>
  <div id="quizArea"></div>

  <div class="nav" id="navBtns" style="display:none">
    <button class="btn-secondary" onclick="prevQ()">← Previous</button>
    <button onclick="nextQ()">Next Question →</button>
  </div>

  <button id="submitBtn" style="display:none; margin: 30px auto 0; width: 100%;" onclick="submitQuiz()">Submit Test Now</button>

  <div id="result" class="result" style="display:none"></div>
  <button id="clearBtn" class="btn-secondary" style="display:none; width:100%; margin-top:20px; background:var(--danger);" onclick="clearResult()">Clear Result & Start New</button>
</div>

<script>
// --- AUTOMATION CONFIG ---
const MY_SUBJECT = "English";
const MY_TEST_ID = "ENG_SET_02";

const questions = [

  
{q: "Passage: 'Plastic pollution is one of the most pressing environmental issues, as rapidly increasing production of disposable plastic products overwhelms the world’s ability to deal with them. Plastic takes hundreds of years to decompose, harming marine life and entering the human food chain.' Question: What is the main theme of the passage?", options: ["The history of plastic", "The benefits of disposal products", "The crisis of plastic pollution", "How to make plastic"], answer: "The crisis of plastic pollution", solution: "The passage discusses the environmental threat and long-lasting damage caused by plastic."},
{q: "Passage: 'Plastic pollution is one of the most pressing environmental issues, as rapidly increasing production of disposable plastic products overwhelms the world’s ability to deal with them. Plastic takes hundreds of years to decompose, harming marine life and entering the human food chain.' Question: Which of the following is a result of plastic pollution mentioned in the text?", options: ["It dissolves in water quickly", "It harms marine life", "It makes the food chain safer", "It decomposes in 10 years"], answer: "It harms marine life", solution: "The text explicitly states it harms marine life and enters the food chain."},
{q: "Passage: 'Plastic pollution is one of the most pressing environmental issues, as rapidly increasing production of disposable plastic products overwhelms the world’s ability to deal with them. Plastic takes hundreds of years to decompose, harming marine life and entering the human food chain.' Question: Choose a suitable summary for the passage.", options: ["Plastic is a durable material", "Increased plastic production is causing an environmental disaster", "Oceans are full of fish", "Recycling is very easy"], answer: "Increased plastic production is causing an environmental disaster", solution: "The summary captures the essence of the pollution crisis described."},
{q: "Passage: 'Self-discipline is the ability to control one's feelings and overcome one's weaknesses. It is a key factor in achieving long-term goals. Without discipline, talent alone cannot lead to success. It requires consistency, hard work, and the will to stay focused on the target.' Question: What is the primary focus of this passage?", options: ["The importance of talent", "The role of self-discipline in success", "How to overcome feelings", "Famous successful people"], answer: "The role of self-discipline in success", solution: "The passage emphasizes that discipline is crucial for achieving goals."},
{q: "Passage: 'Self-discipline is the ability to control one's feelings and overcome one's weaknesses. It is a key factor in achieving long-term goals. Without discipline, talent alone cannot lead to success. It requires consistency, hard work, and the will to stay focused on the target.' Question: According to the passage, what is needed along with talent to succeed?", options: ["Money", "Self-discipline", "Luck", "Fame"], answer: "Self-discipline", solution: "The passage says talent alone cannot lead to success without discipline."},
{q: "Passage: 'Self-discipline is the ability to control one's feelings and overcome one's weaknesses. It is a key factor in achieving long-term goals. Without discipline, talent alone cannot lead to success. It requires consistency, hard work, and the will to stay focused on the target.' Question: Which word in the passage means 'the quality of always behaving in the same way'?", options: ["Weakness", "Success", "Consistency", "Target"], answer: "Consistency", solution: "Consistency means being steady and regular in behavior or work."},
{q: "Fill in the blank: 'The train had left the station before I ____ there.'", options: ["reach", "reaches", "reached", "reaching"], answer: "reached", solution: "In past perfect construction (had + V3), the subsequent action is in simple past (V2)."},
{q: "Choose the correct preposition: 'She is fond ____ music.'", options: ["at", "of", "with", "in"], answer: "of", solution: "The adjective 'fond' always takes the preposition 'of'."},
{q: "Select the correctly spelt word:", options: ["Occurence", "Occurrence", "Occurence", "Ocurrence"], answer: "Occurrence", solution: "The correct spelling is O-C-C-U-R-R-E-N-C-E."},
{q: "Identify the synonym of 'GIGANTIC':", options: ["Small", "Huge", "Weak", "Narrow"], answer: "Huge", solution: "Gigantic means extremely large or huge."},
{q: "What is the antonym of 'OPTIMIST'?", options: ["Hoper", "Pessimist", "Theist", "Atheist"], answer: "Pessimist", solution: "Optimist is a positive thinker; Pessimist is a negative thinker."},
{q: "Change to Indirect Speech: He said, 'I am busy.'", options: ["He said that he is busy.", "He said that he was busy.", "He told he was busy.", "He said I was busy."], answer: "He said that he was busy.", solution: "In reported speech, 'am' changes to 'was' when the reporting verb is in the past."},
{q: "Choose the correct article: 'He is ____ honest man.'", options: ["a", "an", "the", "No article"], answer: "an", solution: "'Honest' starts with a silent 'h' and a vowel sound 'o', so 'an' is used."},
{q: "Fill in the blank: 'Neither of the two brothers ____ present in the party.'", options: ["was", "were", "are", "have"], answer: "was", solution: "'Neither' is singular and takes a singular verb."},
{q: "Idiom: 'A piece of cake' means:", options: ["A sweet dish", "Something very easy", "A difficult task", "To celebrate"], answer: "Something very easy", solution: "This idiom refers to a task that can be accomplished with little effort."},
{q: "Find the error: 'If I was a bird(A) / I would fly(B) / in the sky(C). / No error(D)'", options: ["A", "B", "C", "D"], answer: "A", solution: "For imaginary conditions, 'were' is used instead of 'was' (If I were a bird)."},
{q: "Choose the correct passive voice: 'She writes a letter.'", options: ["A letter was written by her.", "A letter is written by her.", "A letter is being written by her.", "A letter wrote by her."], answer: "A letter is written by her.", solution: "Present Simple changes to 'is/am/are + V3' in passive voice."},
{q: "What is a 'Cure for all diseases' called?", options: ["Antidote", "Panacea", "Antibiotic", "Medicine"], answer: "Panacea", solution: "Panacea is the one-word substitution for a universal remedy."},
{q: "Fill in the blank: 'I have been waiting for you ____ two hours.'", options: ["since", "for", "from", "at"], answer: "for", solution: "'For' is used for a duration/period of time (two hours)."},
{q: "Identify the type of noun: 'Wisdom' is ____.", options: ["Proper Noun", "Common Noun", "Abstract Noun", "Collective Noun"], answer: "Abstract Noun", solution: "Wisdom is an idea or quality that cannot be touched or seen."},
{q: "Select the correct plural form of 'Knife':", options: ["Knifes", "Knive", "Knives", "Knifess"], answer: "Knives", solution: "Words ending in 'f' or 'fe' usually change to 'ves' in plural."},
{q: "Fill in the blank: 'Slow and steady ____ the race.'", options: ["win", "wins", "winning", "won"], answer: "wins", solution: "This is a proverb, treated as a singular unit, thus taking 'wins'."},
{q: "Choose the correct word: 'A person who does not believe in God.'", options: ["Theist", "Atheist", "Priest", "Monk"], answer: "Atheist", solution: "Atheist is someone who lacks belief in the existence of God."},
{q: "Idiom: 'To cry wolf' means:", options: ["To shout like a wolf", "To give a false alarm", "To be brave", "To hunt animals"], answer: "To give a false alarm", solution: "It means to ask for help when you don't really need it."},
{q: "Fill in the blank: 'She is junior ____ me.'", options: ["than", "to", "from", "with"], answer: "to", solution: "Words like junior, senior, superior, and inferior are followed by 'to'."},
{q: "Choose the correct verb: 'The news ____ true.'", options: ["is", "are", "were", "have"], answer: "is", solution: "'News' is an uncountable noun that always takes a singular verb."},
{q: "What is the antonym of 'FRESH'?", options: ["New", "Stale", "Clean", "Sweet"], answer: "Stale", solution: "Fresh means new or clean; Stale means no longer fresh (usually for food)."},
{q: "Identify the part of speech: 'He runs FAST.'", options: ["Noun", "Verb", "Adverb", "Adjective"], answer: "Adverb", solution: "'Fast' here describes the verb 'runs', so it is an adverb."},
{q: "Fill in the blank: 'He jumped ____ the river.'", options: ["in", "into", "on", "to"], answer: "into", solution: "'Into' is used to show movement towards the inside of something."},
{q: "Select the synonym of 'COURAGE':", options: ["Fear", "Bravery", "Weakness", "Humility"], answer: "Bravery", solution: "Courage and Bravery both mean having the strength to face danger."}


];

let currentIndex=0, answers={}, visited={};
let totalSeconds=0, timerInterval, startTime;

function startTest(){
  if(!candidateName.value || !testTime.value) { alert("Please enter Name and Time"); return; }
  displayName.textContent=candidateName.value;
  startScreen.style.display="none";
  topBar.style.display="flex";
  palette.style.display="flex"; 
  navBtns.style.display="flex";
  submitBtn.style.display="block";
  totalSeconds=testTime.value*60;
  startTime=Date.now();
  saveProgress();
  startTimer();
  renderQuestion();
}

function startTimer(){
  timerInterval=setInterval(()=>{
    totalSeconds--;
    updateTimer();
    saveProgress();
    if(totalSeconds<=0) submitQuiz();
  },1000);
}

function updateTimer(){
  timer.textContent= String(Math.floor(totalSeconds/60)).padStart(2,'0')+":"+String(totalSeconds%60).padStart(2,'0');
}

function renderQuestion(){
  visited[currentIndex]=true;
  const q=questions[currentIndex];
  quizArea.innerHTML=`
    <div class="quiz-card">
      <b style="display:block; margin-bottom:15px; font-size:1.1em;">Q${currentIndex+1}. ${q.q}</b>
      <div class="options">
        ${q.options.map(o=>`
          <label>
            <input type="radio" name="opt" ${answers[currentIndex]==o?'checked':''} onchange="selectAnswer('${o}')">
            ${o}
          </label>
        `).join("")}
      </div>
    </div>`;
  renderPalette();
  saveProgress();
}

function selectAnswer(val){
  answers[currentIndex]=val;
  saveProgress();
  renderPalette();
}

function renderPalette(){
  palette.innerHTML="";
  questions.forEach((_,i)=>{
    const s=document.createElement("span");
    s.textContent=i+1;
    if(visited[i]) s.classList.add("visited");
    if(answers[i]) s.classList.add("attempted");
    s.onclick=()=>{currentIndex=i;renderQuestion()};
    palette.appendChild(s);
  });
}

function nextQ(){ if(currentIndex<questions.length-1){currentIndex++;renderQuestion();} }
function prevQ(){ if(currentIndex>0){currentIndex--;renderQuestion();} }

function saveProgress(){
  localStorage.setItem("inProgress",JSON.stringify({
    name:displayName.textContent, answers, visited, currentIndex, totalSeconds, startTime
  }));
}

function submitQuiz(){
  if(!confirm("Are you sure?")) return;
  clearInterval(timerInterval);
  localStorage.removeItem("inProgress");
  
  let correct=0, attempted=0;
  let detailHtml="<h2>Detailed Analysis</h2>";
  
  questions.forEach((q,i)=>{
    if(answers[i]) attempted++;
    if(answers[i] == q.answer) correct++;
    detailHtml+=`<div style="margin:10px 0; padding:15px; background:rgba(255,255,255,0.05); border-radius:15px; border-left:5px solid ${answers[i]==q.answer?'#4ade80':'#f87171'}">
      <p><b>Q${i+1}.</b> ${q.q}</p>
      <p>Your Answer: <span class="${answers[i]==q.answer?'correct':'wrong'}">${answers[i]||"Skipped"}</span> | Correct: <b style="color:#4ade80;">${q.answer}</b></p>
      <div class="sol-box"><b>Logic:</b> ${q.solution}</div>
    </div>`;
  });

  const timeTaken = Math.floor((Date.now() - startTime) / 1000);
  const accuracy = attempted ? Math.round((correct / attempted) * 100) : 0;

  // --- DASHBOARD SYNC ---
  localStorage.setItem(`done_${MY_SUBJECT}_${MY_TEST_ID}`, "true");
  localStorage.setItem(`score_${MY_TEST_ID}`, `${correct} / ${questions.length}`);

  const summaryBox = `
    <div style="text-align:center; padding:25px; background:rgba(255,255,255,0.15); border-radius:20px; margin-bottom:25px; border:1px solid var(--glass-border);">
      <h3 style="margin-bottom:15px; color:var(--color-accent);">${MY_SUBJECT} Performance Report</h3>
      <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; font-size:14px;">
        <div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Final Score: <br><b style="font-size:18px;">${correct} / ${questions.length}</b></div>
        <div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Attempted: <br><b style="font-size:18px;">${attempted}</b></div>
        <div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Accuracy: <br><b style="font-size:18px; color:#4ade80;">${accuracy}%</b></div>
        <div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Time Taken: <br><b style="font-size:18px;">${Math.floor(timeTaken/60)}m ${timeTaken%60}s</b></div>
      </div>
      <button onclick="window.location.href='../index.html'" style="margin-top:20px; background:var(--success); width:100%;">Back to Dashboard</button>
    </div>
  `;

  const finalHtml = summaryBox + detailHtml;
  localStorage.setItem("finalResult", JSON.stringify({ name:displayName.textContent, html: finalHtml }));

  // --- EMAIL ---
  emailjs.send("service_wq5yoyp", "template_doegpcp", {
    candidate_name: displayName.textContent,
    subject: MY_SUBJECT,
    score: correct,
    total: questions.length,
    attempted: attempted,
    accuracy: accuracy + "%",
    time_taken: `${Math.floor(timeTaken/60)}m ${timeTaken%60}s`,
    test_date: new Date().toLocaleString("en-IN")
  });

  quizArea.innerHTML=""; palette.style.display="none"; navBtns.style.display="none";
  submitBtn.style.display="none"; result.style.display="block"; result.innerHTML=finalHtml;
  clearBtn.style.display="block"; window.scrollTo(0,0);
}

window.onload=function(){
  document.getElementById("totalQDisplay").textContent = questions.length;
  document.getElementById("testTime").value = questions.length;
  const final=localStorage.getItem("finalResult");
  const progress=localStorage.getItem("inProgress");
  if(final){
    const d=JSON.parse(final);
    startScreen.style.display="none"; topBar.style.display="flex";
    displayName.textContent=d.name; result.style.display="block"; result.innerHTML=d.html;
    clearBtn.style.display="block";
  } else if(progress){
    const p=JSON.parse(progress);
    displayName.textContent=p.name; answers=p.answers; visited=p.visited;
    currentIndex=p.currentIndex; totalSeconds=p.totalSeconds; startTime=p.startTime;
    startScreen.style.display="none"; topBar.style.display="flex"; palette.style.display="flex";
    navBtns.style.display="flex"; submitBtn.style.display="block"; startTimer(); renderQuestion();
  }
};

function clearResult(){
  if(confirm("New test? Previous data will be lost.")){ localStorage.clear(); location.reload(); }
}
</script>
</body>
</html>

