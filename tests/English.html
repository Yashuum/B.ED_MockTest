<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mock Test – English by Yash</title>

<style>
/* Professional Glassmorphism Theme */
:root{
  --color-primary: #1a2a6c;
  --color-secondary: #2575fc;
  --color-accent: #f2994a;
  --glass: rgba(255, 255, 255, 0.12);
  --glass-border: rgba(255, 255, 255, 0.25);
  --success: #16a34a;
  --danger: #ef4444;
}

*{box-sizing:border-box; margin:0; padding:0; font-family:'Segoe UI', Tahoma, sans-serif;}

body{
  min-height:100vh;
  background: linear-gradient(-45deg, var(--color-primary), var(--color-secondary), var(--color-primary), var(--color-accent));
  background-size: 300% 300%;
  animation: dynamicFlow 18s ease-in-out infinite;
  color: #fff;
  padding: 20px 10px;
}

@keyframes dynamicFlow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes pulse {
  0% { transform: scale(1); opacity: 1; }
  50% { transform: scale(1.5); opacity: 0.5; }
  100% { transform: scale(1); opacity: 1; }
}

.container{ max-width:900px; margin:auto; position: relative; z-index: 2; }

h1{ text-align:center; margin-bottom:10px; font-weight: 800; text-shadow: 0 4px 10px rgba(0,0,0,0.3); }

/* START SCREEN */
.start-screen{
  background: var(--glass);
  backdrop-filter: blur(20px);
  border: 1px solid var(--glass-border);
  padding: 40px 20px;
  border-radius: 30px;
  text-align:center;
  margin-top: 50px;
}

.start-screen input {
  width: 100%;
  max-width: 300px;
  padding: 15px;
  margin: 10px 0;
  border-radius: 15px;
  border: 1px solid var(--glass-border);
  background: rgba(255, 255, 255, 0.15);
  color: #ffffff !important;
  font-size: 16px;
  outline: none;
}

.start-screen input::placeholder {
  color: rgba(255, 255, 255, 0.8) !important;
}

.q-count-sticker {
  margin: 5px auto 15px;
  width: fit-content;
  background: rgba(255, 255, 255, 0.1);
  padding: 8px 20px;
  border-radius: 50px;
  border: 1px solid var(--glass-border);
  font-size: 14px;
  display: flex;
  align-items: center;
  gap: 10px;
}

.pulse-dot {
  width: 8px;
  height: 8px;
  background: #4facfe;
  border-radius: 50%;
  animation: pulse 1.5s infinite;
}

button{
  padding: 14px 28px;
  border: none;
  border-radius: 15px;
  background: linear-gradient(135deg, #ff9800, #ff5722);
  color: #fff;
  cursor: pointer;
  font-weight: 700;
  transition: 0.3s;
}
button:hover{ transform: scale(1.05); }

.top-bar{
  display:none; justify-content:space-between; align-items:center;
  padding:15px 25px; background: var(--glass);
  backdrop-filter: blur(15px);
  border:1px solid var(--glass-border); border-radius:50px;
  position:sticky; top:10px; z-index:100; margin-bottom:15px;
}
.timer{ font-weight:800; color:#fff; background: var(--danger); padding: 5px 15px; border-radius: 20px; }

#palette{ 
  display:none; flex-wrap:wrap; gap:8px; margin-bottom:20px; 
  justify-content: center; padding: 10px;
}
.palette span{
  width:38px; height:38px; display:flex; align-items:center; justify-content:center;
  border-radius:10px; background: rgba(255,255,255,0.1); 
  border: 1px solid var(--glass-border); cursor:pointer; font-size: 13px;
}
.palette .visited{ background: var(--color-secondary); }
.palette .attempted{ background: var(--success); box-shadow: 0 0 8px var(--success); }

.quiz-card{
  background: var(--glass); border:1px solid var(--glass-border);
  backdrop-filter: blur(20px); border-radius:25px; padding:30px;
}
.options label{
  display:flex; align-items: center; gap:12px; padding:14px; 
  background: rgba(255,255,255,0.05); border:1px solid var(--glass-border);
  border-radius:15px; margin:10px 0; cursor:pointer; transition: 0.2s;
}
.options label:hover{ background: rgba(255,255,255,0.15); transform: translateX(5px); }

.nav{ display:flex; justify-content:space-between; margin-top:20px; }
.btn-secondary { background: rgba(255,255,255,0.15); }

.result{ background: var(--glass); padding: 25px; border-radius: 25px; margin-top:20px; }
.correct{ color: #4ade80; font-weight:bold; }
.wrong{ color: #f87171; font-weight:bold; }

.sol-box {
  margin-top:12px; 
  padding:12px; 
  background:rgba(242, 153, 74, 0.15); 
  border-radius:12px; 
  font-size:14px; 
  color:#ffcc80;
  border: 1px dashed var(--color-accent);
}
</style>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
  (function () {
    emailjs.init("L8kGW-X7JOiYaycH5");
  })();
</script>
</head>

<body>

<div class="container">
  <h1>Target Test- English 2026</h1>
  <p style="text-align:center; opacity:0.8; font-size:13px; margin-bottom:20px; color:#fff;">Last Updated: Jan 2026</p>

  <div class="start-screen" id="startScreen">
    <input id="candidateName" placeholder="Enter your name">
    <input id="testTime" type="number" placeholder="Time (minutes)">
    
    <div class="q-count-sticker">
      <span class="pulse-dot"></span>
      <span>Questions Loaded: <b id="totalQDisplay">0</b></span>
    </div>

    <div style="margin-top:15px; display:flex; gap:10px; justify-content:center;">
      <button onclick="startTest()">Start Test</button>
      <button type="button" class="btn-secondary" onclick="window.location.href='../index.html'">Go Back</button>
    </div>
  </div>

  <div class="top-bar" id="topBar">
    <div><small style="opacity:0.9;">CANDIDATE:</small><br><b id="displayName"></b></div>
    <div class="timer" id="timer">00:00</div>
  </div>

  <div id="palette" class="palette"></div>
  <div id="quizArea"></div>

  <div class="nav" id="navBtns" style="display:none">
    <button class="btn-secondary" onclick="prevQ()">← Previous</button>
    <button onclick="nextQ()">Next Question →</button>
  </div>

  <button id="submitBtn" style="display:none; margin: 30px auto 0; width: 100%;" onclick="submitQuiz()">Submit Test Now</button>

  <div id="result" class="result" style="display:none"></div>
  <button id="clearBtn" class="btn-secondary" style="display:none; width:100%; margin-top:20px; background:var(--danger);" onclick="clearResult()">Clear Result & Start New</button>
</div>

<script>
// --- AUTOMATION CONFIG ---
const MY_SUBJECT = "English";
const MY_TEST_ID = "ENG_SET_01";

const questions = [
{q: "Choose the correct article: 'Copper is ____ useful metal.'", options: ["a", "an", "the", "No article"], answer: "a", solution: "Useful start with a consonant sound 'yu', so 'a' is used instead of 'an'."},
{q: "Fill in the blanks: 'The cat is sitting ____ the table.'", options: ["on", "under", "between", "over"], answer: "under", solution: "Generally, cats sit 'under' the table for shelter or rest."},
{q: "What is the Synonym of 'ABANDON'?", options: ["Keep", "Leave", "Join", "Follow"], answer: "Leave", solution: "Abandon means to leave or give up something completely."},
{q: "Choose the correct spelling:", options: ["Committee", "Comittee", "Committee", "Commitee"], answer: "Committee", solution: "The correct spelling is C-O-M-M-I-T-T-E-E (double m, double t, double e)."},
{q: "Change to Passive Voice: 'He opens the door.'", options: ["The door was opened by him.", "The door is opened by him.", "The door is being opened by him.", "The door opens by him."], answer: "The door is opened by him.", solution: "Present Indefinite (S+V1) changes to 'is/am/are + V3' in passive voice."},
{q: "Identify the antonym of 'BRIGHT'?", options: ["Shiny", "Dull", "Vivid", "Smart"], answer: "Dull", solution: "Bright means shining; its opposite is Dull (lacking shine)."},
{q: "Fill in the preposition: 'She has been studying ____ morning.'", options: ["for", "since", "from", "at"], answer: "since", solution: "'Since' is used for a point of time (morning)."},
{q: "Choose the correct word: 'A person who hates mankind is called a ____.'", options: ["Optimist", "Misanthrope", "Philanthropist", "Theist"], answer: "Misanthrope", solution: "Misanthrope is one who dislikes human kind."},
{q: "Select the correct sentence:", options: ["She do not like tea.", "She does not likes tea.", "She does not like tea.", "She not like tea."], answer: "She does not like tea.", solution: "With third person singular (She), we use 'does not' + V1."},
{q: "Find the error: 'The furniture(A) / in this room(B) / are old(C). / No error(D)'", options: ["A", "B", "C", "D"], answer: "C", solution: "Furniture is an uncountable noun and always takes a singular verb ('is' instead of 'are')."},
{q: "Passage: 'Forests are often called the lungs of the earth because they provide oxygen and absorb carbon dioxide. They are home to millions of species of plants and animals, maintaining the biodiversity of our planet. Forests also help in regulating the climate and preventing soil erosion. However, deforestation for industries and housing is causing a major threat to our environment. Protecting forests is essential for the survival of future generations.' Question: Why are forests called the 'lungs of the earth'?", options: ["Because they provide oxygen", "Because they are green", "Because they provide wood", "Because they are large"], answer: "Because they provide oxygen", solution: "The passage says they provide oxygen and absorb carbon dioxide, acting like lungs."},
{q: "Passage: 'Forests are often called the lungs of the earth because they provide oxygen and absorb carbon dioxide. They are home to millions of species of plants and animals, maintaining the biodiversity of our planet. Forests also help in regulating the climate and preventing soil erosion. However, deforestation for industries and housing is causing a major threat to our environment. Protecting forests is essential for the survival of future generations.' Question: Forests help in preventing which of the following?", options: ["Rainfall", "Soil erosion", "Plant growth", "Oxygen production"], answer: "Soil erosion", solution: "The passage mentions that forests help in regulating climate and preventing soil erosion."},
{q: "Passage: 'Forests are often called the lungs of the earth because they provide oxygen and absorb carbon dioxide. They are home to millions of species of plants and animals, maintaining the biodiversity of our planet. Forests also help in regulating the climate and preventing soil erosion. However, deforestation for industries and housing is causing a major threat to our environment. Protecting forests is essential for the survival of future generations.' Question: What is the main cause of threat to forests according to the text?", options: ["Wild animals", "Rainstorms", "Deforestation", "Oxygen"], answer: "Deforestation", solution: "The text states that deforestation for industries and housing is a major threat."},
{q: "Passage: 'Forests are often called the lungs of the earth because they provide oxygen and absorb carbon dioxide. They are home to millions of species of plants and animals, maintaining the biodiversity of our planet. Forests also help in regulating the climate and preventing soil erosion. However, deforestation for industries and housing is causing a major threat to our environment. Protecting forests is essential for the survival of future generations.' Question: What does the word 'Biodiversity' refer to in the passage?", options: ["Cutting of trees", "Variety of plants and animals", "Building houses", "Absorbing oxygen"], answer: "Variety of plants and animals", solution: "Biodiversity refers to being home to millions of species of plants and animals."},
{q: "Passage: 'Forests are often called the lungs of the earth because they provide oxygen and absorb carbon dioxide. They are home to millions of species of plants and animals, maintaining the biodiversity of our planet. Forests also help in regulating the climate and preventing soil erosion. However, deforestation for industries and housing is causing a major threat to our environment. Protecting forests is essential for the survival of future generations.' Question: Protecting forests is essential for whose survival?", options: ["Only animals", "Future generations", "Industries", "Housing"], answer: "Future generations", solution: "The last line says protecting forests is essential for the survival of future generations."},
{q: "Passage: 'Time is the most valuable resource available to humans. Unlike money, time once lost can never be recovered. Successful people are those who understand the importance of time management. They prioritize their tasks and avoid procrastination. Discipline and punctuality are the keys to making the best use of time. One who wastes time today, will find themselves lagging behind in the future.' Question: What is the most valuable resource according to the passage?", options: ["Money", "Time", "Gold", "Education"], answer: "Time", solution: "The first sentence clearly states that time is the most valuable resource."},
{q: "Passage: 'Time is the most valuable resource available to humans. Unlike money, time once lost can never be recovered. Successful people are those who understand the importance of time management. They prioritize their tasks and avoid procrastination. Discipline and punctuality are the keys to making the best use of time. One who wastes time today, will find themselves lagging behind in the future.' Question: According to the text, what can never be recovered once lost?", options: ["Money", "Time", "Health", "Friends"], answer: "Time", solution: "The passage says, 'time once lost can never be recovered.'"},
{q: "Passage: 'Time is the most valuable resource available to humans. Unlike money, time once lost can never be recovered. Successful people are those who understand the importance of time management. They prioritize their tasks and avoid procrastination. Discipline and punctuality are the keys to making the best use of time. One who wastes time today, will find themselves lagging behind in the future.' Question: What are the keys to making the best use of time?", options: ["Money and Power", "Discipline and Punctuality", "Sleeping and Eating", "Reading and Writing"], answer: "Discipline and Punctuality", solution: "The passage mentions discipline and punctuality as keys to time management."},
{q: "Passage: 'Time is the most valuable resource available to humans. Unlike money, time once lost can never be recovered. Successful people are those who understand the importance of time management. They prioritize their tasks and avoid procrastination. Discipline and punctuality are the keys to making the best use of time. One who wastes time today, will find themselves lagging behind in the future.' Question: What do successful people avoid?", options: ["Hard work", "Time management", "Procrastination", "Discipline"], answer: "Procrastination", solution: "The passage says successful people avoid procrastination (delaying work)."},
{q: "Passage: 'Time is the most valuable resource available to humans. Unlike money, time once lost can never be recovered. Successful people are those who understand the importance of time management. They prioritize their tasks and avoid procrastination. Discipline and punctuality are the keys to making the best use of time. One who wastes time today, will find themselves lagging behind in the future.' Question: What happens to a person who wastes time today?", options: ["They get money", "They lag behind in the future", "They become successful", "They save time"], answer: "They lag behind in the future", solution: "The last line warns that wasting time leads to lagging behind in the future."}
];

let currentIndex=0, answers={}, visited={};
let totalSeconds=0, timerInterval, startTime;

function startTest(){
  if(!candidateName.value || !testTime.value) { alert("Please enter Name and Time"); return; }
  displayName.textContent=candidateName.value;
  startScreen.style.display="none";
  topBar.style.display="flex";
  palette.style.display="flex"; 
  navBtns.style.display="flex";
  submitBtn.style.display="block";
  totalSeconds=testTime.value*60;
  startTime=Date.now();
  saveProgress();
  startTimer();
  renderQuestion();
}

function startTimer(){
  timerInterval=setInterval(()=>{
    totalSeconds--;
    updateTimer();
    saveProgress();
    if(totalSeconds<=0) submitQuiz();
  },1000);
}

function updateTimer(){
  timer.textContent= String(Math.floor(totalSeconds/60)).padStart(2,'0')+":"+String(totalSeconds%60).padStart(2,'0');
}

function renderQuestion(){
  visited[currentIndex]=true;
  const q=questions[currentIndex];
  quizArea.innerHTML=`
    <div class="quiz-card">
      <b style="display:block; margin-bottom:15px; font-size:1.1em;">Q${currentIndex+1}. ${q.q}</b>
      <div class="options">
        ${q.options.map(o=>`
          <label>
            <input type="radio" name="opt" ${answers[currentIndex]==o?'checked':''} onchange="selectAnswer('${o}')">
            ${o}
          </label>
        `).join("")}
      </div>
    </div>`;
  renderPalette();
  saveProgress();
}

function selectAnswer(val){
  answers[currentIndex]=val;
  saveProgress();
  renderPalette();
}

function renderPalette(){
  palette.innerHTML="";
  questions.forEach((_,i)=>{
    const s=document.createElement("span");
    s.textContent=i+1;
    if(visited[i]) s.classList.add("visited");
    if(answers[i]) s.classList.add("attempted");
    s.onclick=()=>{currentIndex=i;renderQuestion()};
    palette.appendChild(s);
  });
}

function nextQ(){ if(currentIndex<questions.length-1){currentIndex++;renderQuestion();} }
function prevQ(){ if(currentIndex>0){currentIndex--;renderQuestion();} }

function saveProgress(){
  localStorage.setItem("inProgress",JSON.stringify({
    name:displayName.textContent, answers, visited, currentIndex, totalSeconds, startTime
  }));
}

function submitQuiz(){
  if(!confirm("Are you sure?")) return;
  clearInterval(timerInterval);
  localStorage.removeItem("inProgress");
  
  let correct=0, attempted=0;
  let detailHtml="<h2>Detailed Analysis</h2>";
  
  questions.forEach((q,i)=>{
    if(answers[i]) attempted++;
    if(answers[i] == q.answer) correct++;
    detailHtml+=`<div style="margin:10px 0; padding:15px; background:rgba(255,255,255,0.05); border-radius:15px; border-left:5px solid ${answers[i]==q.answer?'#4ade80':'#f87171'}">
      <p><b>Q${i+1}.</b> ${q.q}</p>
      <p>Your Answer: <span class="${answers[i]==q.answer?'correct':'wrong'}">${answers[i]||"Skipped"}</span> | Correct: <b style="color:#4ade80;">${q.answer}</b></p>
      <div class="sol-box"><b>Logic:</b> ${q.solution}</div>
    </div>`;
  });

  const timeTaken = Math.floor((Date.now() - startTime) / 1000);
  const accuracy = attempted ? Math.round((correct / attempted) * 100) : 0;

  // --- DASHBOARD SYNC ---
  localStorage.setItem(`done_${MY_SUBJECT}_${MY_TEST_ID}`, "true");
  localStorage.setItem(`score_${MY_TEST_ID}`, `${correct} / ${questions.length}`);

  const summaryBox = `
    <div style="text-align:center; padding:25px; background:rgba(255,255,255,0.15); border-radius:20px; margin-bottom:25px; border:1px solid var(--glass-border);">
      <h3 style="margin-bottom:15px; color:var(--color-accent);">${MY_SUBJECT} Performance Report</h3>
      <div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; font-size:14px;">
        <div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Final Score: <br><b style="font-size:18px;">${correct} / ${questions.length}</b></div>
        <div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Attempted: <br><b style="font-size:18px;">${attempted}</b></div>
        <div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Accuracy: <br><b style="font-size:18px; color:#4ade80;">${accuracy}%</b></div>
        <div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Time Taken: <br><b style="font-size:18px;">${Math.floor(timeTaken/60)}m ${timeTaken%60}s</b></div>
      </div>
      <button onclick="window.location.href='../index.html'" style="margin-top:20px; background:var(--success); width:100%;">Back to Dashboard</button>
    </div>
  `;

  const finalHtml = summaryBox + detailHtml;
  localStorage.setItem("finalResult", JSON.stringify({ name:displayName.textContent, html: finalHtml }));

  // --- EMAIL ---
  emailjs.send("service_wq5yoyp", "template_doegpcp", {
    candidate_name: displayName.textContent,
    subject: MY_SUBJECT,
    score: correct,
    total: questions.length,
    attempted: attempted,
    accuracy: accuracy + "%",
    time_taken: `${Math.floor(timeTaken/60)}m ${timeTaken%60}s`,
    test_date: new Date().toLocaleString("en-IN")
  });

  quizArea.innerHTML=""; palette.style.display="none"; navBtns.style.display="none";
  submitBtn.style.display="none"; result.style.display="block"; result.innerHTML=finalHtml;
  clearBtn.style.display="block"; window.scrollTo(0,0);
}

window.onload=function(){
  document.getElementById("totalQDisplay").textContent = questions.length;
  document.getElementById("testTime").value = questions.length;
  const final=localStorage.getItem("finalResult");
  const progress=localStorage.getItem("inProgress");
  if(final){
    const d=JSON.parse(final);
    startScreen.style.display="none"; topBar.style.display="flex";
    displayName.textContent=d.name; result.style.display="block"; result.innerHTML=d.html;
    clearBtn.style.display="block";
  } else if(progress){
    const p=JSON.parse(progress);
    displayName.textContent=p.name; answers=p.answers; visited=p.visited;
    currentIndex=p.currentIndex; totalSeconds=p.totalSeconds; startTime=p.startTime;
    startScreen.style.display="none"; topBar.style.display="flex"; palette.style.display="flex";
    navBtns.style.display="flex"; submitBtn.style.display="block"; startTimer(); renderQuestion();
  }
};

function clearResult(){
  if(confirm("New test? Previous data will be lost.")){ localStorage.clear(); location.reload(); }
}
</script>
</body>
</html>
