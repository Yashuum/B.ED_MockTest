<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NishuAbhyasi – General Awareness by Yash</title>
    <style>
        :root{
            --color-primary: #1a2a6c;
            --color-secondary: #2575fc;
            --color-accent: #f2994a;
            --glass: rgba(255, 255, 255, 0.12);
            --glass-border: rgba(255, 255, 255, 0.25);
            --success: #16a34a;
            --danger: #ef4444;
            --review: #8b5cf6;
            --challenge: #f59e0b;
        }
        *{box-sizing:border-box; margin:0; padding:0; font-family:'Segoe UI', Tahoma, sans-serif;}
        body{
            min-height:100vh;
            background: linear-gradient(-45deg, var(--color-primary), var(--color-secondary), var(--color-primary), var(--color-accent));
            background-size: 300% 300%;
            animation: dynamicFlow 18s ease-in-out infinite;
            color: #fff;
            padding: 20px 10px;
        }
        @keyframes dynamicFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        
        .container{ max-width:900px; margin:auto; position: relative; z-index: 2; }
        h1{ text-align:center; margin-bottom:10px; font-weight: 800; text-shadow: 0 4px 10px rgba(0,0,0,0.3); }

        .start-screen{ background: var(--glass); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); padding: 40px 20px; border-radius: 30px; text-align:center; margin-top: 50px; display: flex; flex-direction: column; gap: 15px; align-items: center; }
        .input-row { display: flex; gap: 15px; width: 100%; max-width: 600px; justify-content: center; }
        .start-screen input, .start-screen select { 
            width: 100%; padding: 15px; border-radius: 15px; border: 1px solid var(--glass-border); 
            background: rgba(255, 255, 255, 0.15); color: #fff; font-size: 16px; outline: none; 
        }
		.start-screen input::placeholder { color: white !important; opacity: 1; }
        .start-screen option { color: #000; }
        
        .q-count-sticker { background: rgba(255, 255, 255, 0.1); padding: 8px 20px; border-radius: 50px; border: 1px solid var(--glass-border); font-size: 14px; display: flex; align-items: center; gap: 10px; }
        .pulse-dot { width: 8px; height: 8px; background: #4facfe; border-radius: 50%; animation: pulse 1.5s infinite; }
        
        button{ padding: 14px 28px; border: none; border-radius: 15px; background: linear-gradient(135deg, #ff9800, #ff5722); color: #fff; cursor: pointer; font-weight: 700; transition: 0.3s; }
        button:hover:not(:disabled){ transform: scale(1.05); }
        button:disabled{ opacity: 0.5; cursor: not-allowed; }

        .btn-secondary { background: rgba(255,255,255,0.15); }
        .btn-review { background: var(--review); }
        .btn-challenge { background: var(--challenge); }
        .btn-clear { background: transparent; border: 1px solid #fff; padding: 6px 12px; font-size: 12px; margin-top: 10px; border-radius: 8px; cursor: pointer; color: #fff; }

        .top-bar{ display:none; justify-content:space-between; align-items:center; padding:15px 25px; background: var(--glass); backdrop-filter: blur(15px); border:1px solid var(--glass-border); border-radius:50px; position:sticky; top:10px; z-index:100; margin-bottom:15px; }
        .timer{ font-weight:800; color:#fff; background: var(--danger); padding: 5px 15px; border-radius: 20px; }
        
        #palette{ display:none; flex-wrap:wrap; gap:8px; margin-bottom:20px; justify-content: center; padding: 10px; }
        .palette span{ width:38px; height:38px; display:flex; align-items:center; justify-content:center; border-radius:10px; background: rgba(255,255,255,0.1); border: 1px solid var(--glass-border); cursor:pointer; font-size: 13px; }
        .palette .visited{ border: 2px solid var(--color-secondary); }
        .palette .attempted{ background: var(--success); box-shadow: 0 0 8px var(--success); }
        .palette .marked-review{ background: var(--review); }
        .palette .challenged{ background: var(--challenge); }

        .quiz-card{ background: var(--glass); border:1px solid var(--glass-border); backdrop-filter: blur(20px); border-radius:25px; padding:30px; }
        .options label{ display:flex; align-items: center; gap:12px; padding:14px; background: rgba(255,255,255,0.05); border:1px solid var(--glass-border); border-radius:15px; margin:10px 0; cursor:pointer; transition: 0.2s; }
        .options label:hover{ background: rgba(255,255,255,0.15); transform: translateX(5px); }
        
        .nav{ display:none; justify-content:space-between; margin-top:20px; flex-wrap: wrap; gap: 10px; }
        .result{ background: var(--glass); padding: 25px; border-radius: 25px; margin-top:20px; }
        .correct{ color: #4ade80; font-weight:bold; }
        .wrong{ color: #f87171; font-weight:bold; }
        .sol-box { margin-top:12px; padding:12px; background:rgba(242, 153, 74, 0.15); border-radius:12px; font-size:14px; color:#ffcc80; border: 1px dashed var(--color-accent); }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script> (function () { emailjs.init("L8kGW-X7JOiYaycH5"); })(); </script>
</head>
<body>
<div class="container">
    <h1>Target Test- General Awareness 2026</h1>
    <p style="text-align:center; opacity:0.8; font-size:13px; margin-bottom:20px; color:#fff;">Last Updated: 22 Jan, 2026 - 02:49 PM</p>
    
    <div class="start-screen" id="startScreen">
        <div class="input-row">
            <input id="candidateName" placeholder="Enter your name">
            <input id="testTime" type="number" placeholder="Minutes">
        </div>
        
        <select id="difficultyLevel" style="max-width: 600px;" onchange="syncCountAndTime()">
            <option value="easy">Level: Easy</option>
            <option value="medium">Medium</option>
            <option value="hard">Hard</option>
        </select>

        <div class="q-count-sticker">
            <span class="pulse-dot"></span>
            <span>Questions Loaded: <b id="totalQDisplay">0</b></span>
        </div>

        <div style="display:flex; gap:10px;">
            <button onclick="startTest()">Start Test</button>
            <button type="button" class="btn-secondary" onclick="window.location.href='https://yashuum.github.io/B.ED_MockTest/'">Go Back</button>
        </div>
    </div>

    <div class="top-bar" id="topBar">
        <div><small style="opacity:0.9;">CANDIDATE:</small><br><b id="displayName"></b></div>
        <div class="timer" id="timer">00:00</div>
    </div>

    <div id="palette" class="palette"></div>
    <div id="quizArea"></div>

    <div class="nav" id="navBtns">
        <button class="btn-secondary" onclick="prevQ()" id="prevBtn">← Prev</button>
        <button class="btn-review" onclick="markForReview()">Review</button>
        <button class="btn-challenge" onclick="challengeQuestion()">Challenge</button>
        <div style="display:flex; flex-direction:column; align-items:center;">
            <button onclick="nextQ()" id="nextBtn">Next →</button>
            <span id="lastQMsg" style="font-size:10px; color:var(--color-accent); margin-top:5px; display:none;">Last question, submit test now</span>
        </div>
    </div>

    <button id="submitBtn" style="display:none; margin: 30px auto 0; width: 100%;" onclick="submitQuiz()">Submit Test Now</button>
    <div id="result" class="result" style="display:none"></div>
    <button id="clearBtn" class="btn-secondary" style="display:none; width:100%; margin-top:20px; background:var(--danger);" onclick="clearResult()">Clear Result & Restart</button>
</div>

<script>
    const MY_SUBJECT = "Awareness";
	const MY_TEST_ID = "GKA_SET_05";

    const allQuestionsBank = {
easy: [

  {q: "बिहार दिवस (Bihar Day) कब मनाया जाता है?", options: ["22 मार्च", "26 जनवरी", "15 अगस्त", "1 मई"], answer: "22 मार्च", solution: "1912 में इसी दिन बिहार बंगाल प्रेसिडेंसी से अलग हुआ था।"},
  {q: "भारत की राजधानी कोलकाता से दिल्ली कब स्थानांतरित की गई?", options: ["1910", "1911", "1912", "1915"], answer: "1911", solution: "जॉर्ज पंचम के दिल्ली दरबार के दौरान इसकी घोषणा 1911 में हुई थी।"},
  {q: "बिहार के प्रथम मुख्यमंत्री कौन थे?", options: ["डॉ. श्रीकृष्ण सिंह", "कर्पूरी ठाकुर", "राबड़ी देवी", "नीतीश कुमार"], answer: "डॉ. श्रीकृष्ण सिंह", solution: "उन्हें 'बिहार केसरी' के नाम से भी जाना जाता है।"},
  {q: "क्षेत्रफल की दृष्टि से भारत का सबसे बड़ा राज्य कौन सा है?", options: ["उत्तर प्रदेश", "मध्य प्रदेश", "राजस्थान", "महाराष्ट्र"], answer: "राजस्थान", solution: "जनसंख्या में उत्तर प्रदेश नंबर 1 है, लेकिन क्षेत्रफल में राजस्थान।"},
  {q: "सौरमंडल का सबसे बड़ा ग्रह (Largest Planet) कौन सा है?", options: ["पृथ्वी", "मंगल", "बृहस्पति", "शुक्र"], answer: "बृहस्पति", solution: "बृहस्पति (Jupiter) हमारे सौरमंडल का सबसे विशाल ग्रह है।"},
  {q: "बिहार का राजकीय पशु (State Animal) क्या है?", options: ["शेर", "बैल", "गाय", "बाघ"], answer: "बैल", solution: "गौर (बैल) बिहार का राजकीय पशु है।"},
  {q: "पानी का रासायनिक सूत्र (Chemical Formula) क्या है?", options: ["CO2", "H2O", "NaCl", "O2"], answer: "H2O", solution: "H2O मतलब हाइड्रोजन के दो अणु और ऑक्सीजन का एक।"},
  {q: "महात्मा बुद्ध ने अपना प्रथम उपदेश कहाँ दिया था?", options: ["लुम्बिनी", "बोधगया", "सारनाथ", "कुशीनगर"], answer: "सारनाथ", solution: "इसे 'धर्मचक्रप्रवर्तन' कहा जाता है।"},
  {q: "भारत के वर्तमान राष्ट्रपति कौन हैं?", options: ["नरेन्द्र मोदी", "द्रौपदी मुर्मू", "अमित शाह", "राजनाथ सिंह"], answer: "द्रौपदी मुर्मू", solution: "वे भारत की पहली आदिवासी महिला राष्ट्रपति हैं।"},
  {q: "विश्व का सबसे ऊँचा पर्वत शिखर कौन सा है?", options: ["कंचनजंगा", "के-2", "माउंट एवरेस्ट", "नंदा देवी"], answer: "माउंट एवरेस्ट", solution: "इसकी ऊँचाई लगभग 8848.86 मीटर है।"},
  {q: "बिहार में कुल कितने जिले हैं?", options: ["35", "38", "40", "42"], answer: "38", solution: "बिहार का 38वां जिला 'अरवल' है।"},
  {q: "मानव शरीर में कितनी हड्डियाँ होती हैं?", options: ["206", "210", "300", "190"], answer: "206", solution: "वयस्क मनुष्य में 206 हड्डियाँ होती हैं।"},
  {q: "भारत की सबसे लंबी नदी कौन सी है?", options: ["यमुना", "ब्रह्मपुत्र", "गंगा", "गोदावरी"], answer: "गंगा", solution: "गंगा भारत की सबसे पवित्र और लंबी नदी (2525 किमी) है।"},
  {q: "विटामिन 'सी' का सबसे अच्छा स्रोत क्या है?", options: ["दूध", "अंडा", "आंवला", "केला"], answer: "आंवला", solution: "खट्टे फलों में विटामिन सी प्रचुर मात्रा में होता है।"},
  {q: "बिहार विधानसभा में कुल कितनी सीटें हैं?", options: ["243", "75", "40", "16"], answer: "243", solution: "विधान परिषद में 75 और लोकसभा में 40 सीटें हैं।"},
  {q: "इंकलाब जिंदाबाद का नारा किसने दिया था?", options: ["सुभाष चंद्र बोस", "भगत सिंह", "चंद्रशेखर आजाद", "गांधी जी"], answer: "भगत सिंह", solution: "हसरत मोहानी ने इसे लिखा था, लेकिन लोकप्रिय भगत सिंह ने बनाया।"},
  {q: "जापान की राजधानी क्या है?", options: ["बीजिंग", "टोक्यो", "सियोल", "मनीला"], answer: "टोक्यो", solution: "टोक्यो जापान का सबसे बड़ा शहर और राजधानी है।"},
  {q: "बिहार में तेल शोधक कारखाना (Refinery) कहाँ स्थित है?", options: ["पटना", "गया", "बरौनी", "मुजफ्फरपुर"], answer: "बरौनी", solution: "बरौनी रिफाइनरी बेगूसराय जिले में स्थित है।"},
  {q: "स्वतंत्र भारत के प्रथम शिक्षा मंत्री कौन थे?", options: ["डॉ. राजेंद्र प्रसाद", "मौलाना अबुल कलाम आजाद", "सरदार पटेल", "नेहरू"], answer: "मौलाना अबुल कलाम आजाद", solution: "इनके जन्मदिन (11 नवंबर) को राष्ट्रीय शिक्षा दिवस मनाया जाता है।"},
  {q: "प्रकाश संश्लेषण (Photosynthesis) के लिए कौन सी गैस आवश्यक है?", options: ["ऑक्सीजन", "नाइट्रोजन", "कार्बन डाइऑक्साइड", "हीलियम"], answer: "कार्बन डाइऑक्साइड", solution: "पौधे CO2 लेते हैं और ऑक्सीजन छोड़ते हैं।"},
  {q: "बिहार का राजकीय पक्षी क्या है?", options: ["कोयल", "गौरैया", "मोर", "तोता"], answer: "गौरैया", solution: "House Sparrow (गौरैया) बिहार का राजकीय पक्षी है।"},
  {q: "विश्व का सबसे बड़ा महासागर कौन सा है?", options: ["हिंद महासागर", "अटलांटिक महासागर", "प्रशांत महासागर", "आर्कटिक महासागर"], answer: "प्रशांत महासागर", solution: "प्रशांत महासागर (Pacific Ocean) सबसे बड़ा और गहरा है।"},
  {q: "कंप्यूटर का जनक (Father of Computer) किसे कहा जाता है?", options: ["बिल गेट्स", "चार्ल्स बैबेज", "मार्क जुकरबर्ग", "न्यूटन"], answer: "चार्ल्स बैबेज", solution: "उन्होंने पहले मैकेनिकल कंप्यूटर का डिजाइन तैयार किया था।"},
  {q: "बिहार के किस जिले को 'लीची का शहर' कहा जाता है?", options: ["हाजीपुर", "मुजफ्फरपुर", "दरभंगा", "भागलपुर"], answer: "मुजफ्फरपुर", solution: "यहाँ की शाही लीची पूरी दुनिया में मशहूर है।"},
  {q: "भारत में सबसे पहले सूर्य किस राज्य में निकलता है?", options: ["बिहार", "अरुणाचल प्रदेश", "असम", "गुजरात"], answer: "अरुणाचल प्रदेश", solution: "अरुण + अचल (सूर्य का पर्वत), यह भारत का सबसे पूर्वी राज्य है।"}

 ],
medium: [

  {q: "भारतीय संविधान का कौन-सा अनुच्छेद 'अस्पृश्यता का अंत' (Abolition of Untouchability) करता है?", options: ["अनुच्छेद 14", "अनुच्छेद 17", "अनुच्छेद 19", "अनुच्छेद 21"], answer: "अनुच्छेद 17", solution: "यह मौलिक अधिकारों के तहत समानता के अधिकार का हिस्सा है।"},
  {q: "बिहार की पहली महिला मुख्यमंत्री कौन थीं?", options: ["सुचेता कृपलानी", "सरोजिनी नायडू", "राबड़ी देवी", "मीरा कुमार"], answer: "राबड़ी देवी", solution: "वे 1997 में पहली बार बिहार की मुख्यमंत्री बनीं।"},
  {q: "विश्व का सबसे बड़ा डेल्टा कौन सा है?", options: ["नील नदी डेल्टा", "सुंदरवन डेल्टा", "अमेजन डेल्टा", "मिसिसिपी डेल्टा"], answer: "सुंदरवन डेल्टा", solution: "यह गंगा और ब्रह्मपुत्र नदियों द्वारा भारत और बांग्लादेश में बनता है।"},
  {q: "भारत के किस राज्य में 'नर्मदा नदी' का उद्गम स्थल (अमरकंटक) स्थित है?", options: ["गुजरात", "महाराष्ट्र", "मध्य प्रदेश", "छत्तीसगढ़"], answer: "मध्य प्रदेश", solution: "नर्मदा मध्य प्रदेश की जीवन रेखा मानी जाती है।"},
  {q: "गांधी जी ने 'चंपारण सत्याग्रह' किस वर्ष शुरू किया था?", options: ["1915", "1917", "1919", "1920"], answer: "1917", solution: "यह गांधी जी का भारत में पहला सफल सत्याग्रह था, जो नील की खेती के विरुद्ध था।"},
  {q: "लोकसभा के अध्यक्ष (Speaker) का चुनाव कौन करता है?", options: ["राष्ट्रपति", "प्रधानमंत्री", "लोकसभा के सदस्य", "जनता"], answer: "लोकसभा के सदस्य", solution: "सदस्य अपने में से ही एक को बहुमत द्वारा चुनते हैं।"},
  {q: "इंसुलिन (Insulin) की कमी से कौन सा रोग होता है?", options: ["घेंघा", "एनीमिया", "मधुमेह (Diabetes)", "बेरी-बेरी"], answer: "मधुमेह (Diabetes)", solution: "इंसुलिन रक्त में शुगर की मात्रा को नियंत्रित करता है।"},
  {q: "बिहार का सबसे साक्षर जिला (Most Literate District) कौन सा है?", options: ["पटना", "रोहतास", "गया", "मुंगेर"], answer: "रोहतास", solution: "2011 की जनगणना के अनुसार रोहतास की साक्षरता दर बिहार में सर्वाधिक है।"},
  {q: "कौटिल्य (चाणक्य) किसके प्रधानमंत्री थे?", options: ["चंद्रगुप्त मौर्य", "अशोक", "बिंबिसार", "अजातशत्रु"], answer: "चंद्रगुप्त मौर्य", solution: "उन्होंने मौर्य साम्राज्य की स्थापना में मुख्य भूमिका निभाई थी।"},
  {q: "ओजोन परत (Ozone Layer) वायुमंडल की किस परत में पाई जाती है?", options: ["क्षोभमंडल (Troposphere)", "समतापमंडल (Stratosphere)", "मध्यमंडल", "बाह्यमंडल"], answer: "समतापमंडल (Stratosphere)", solution: "यह हमें सूर्य की हानिकारक पराबैंगनी (UV) किरणों से बचाती है।"},
  {q: "भारत में पहली बार जनगणना (Census) कब हुई थी?", options: ["1872", "1881", "1891", "1901"], answer: "1872", solution: "लॉर्ड मेयो के समय 1872 में शुरू हुई, लेकिन नियमित जनगणना 1881 (लॉर्ड रिपन) से शुरू हुई।"},
  {q: "राज्यसभा का पदेन सभापति (Ex-officio Chairman) कौन होता है?", options: ["राष्ट्रपति", "उपराष्ट्रपति", "प्रधानमंत्री", "लोकसभा अध्यक्ष"], answer: "उपराष्ट्रपति", solution: "अनुच्छेद 64 के अनुसार उपराष्ट्रपति ही राज्यसभा का सभापति होता है।"},
  {q: "बिहार के किस स्थान पर 'महात्मा गांधी सेतु' स्थित है?", options: ["भागलपुर", "पटना", "मुजफ्फरपुर", "आरा"], answer: "पटना", solution: "यह गंगा नदी पर बना उत्तर और दक्षिण बिहार को जोड़ने वाला प्रमुख पुल है।"},
  {q: "वायुमंडल में ऑक्सीजन की मात्रा लगभग कितनी है?", options: ["78%", "21%", "0.03%", "1%"], answer: "21", solution: "नाइट्रोजन 78% और ऑक्सीजन लगभग 21% है।"},
  {q: "जयप्रकाश नारायण को किस नाम से जाना जाता है?", options: ["लोकमान्य", "लोकनायक", "देशरत्न", "दीनबंधु"], answer: "लोकनायक", solution: "उन्होंने 1974 में 'संपूर्ण क्रांति' का नारा दिया था।"},
  {q: "विद्युत धारा (Electric Current) की इकाई क्या है?", options: ["वोल्ट", "वाट", "एम्पियर", "ओम"], answer: "एम्पियर", solution: "इसे एमीटर (Ammeter) यंत्र से मापा जाता है।"},
  {q: "भारत का 'सिलिकॉन वैली' किसे कहा जाता है?", options: ["हैदराबाद", "बंगलुरु", "पुणे", "गुरुग्राम"], answer: "बंगलुरु", solution: "IT हब होने के कारण इसे यह नाम दिया गया है।"},
  {q: "चाय के उत्पादन में भारत का कौन सा राज्य प्रथम है?", options: ["पश्चिम बंगाल", "असम", "केरल", "तमिलनाडु"], answer: "असम", solution: "असम भारत का सबसे बड़ा चाय उत्पादक राज्य है।"},
  {q: "बिहार का क्षेत्रफल भारत के कुल क्षेत्रफल का कितना प्रतिशत है?", options: ["2.86%", "3.15%", "5.28%", "1.50%"], answer: "2.86", solution: "बिहार क्षेत्रफल के हिसाब से भारत का 12वां बड़ा राज्य है।"},
  {q: "गौतम बुद्ध को ज्ञान की प्राप्ति कहाँ हुई थी?", options: ["सारनाथ", "कुशीनगर", "बोधगया", "लुम्बिनी"], answer: "बोधगया", solution: "निरंजना नदी के तट पर पीपल वृक्ष (बोधि वृक्ष) के नीचे।"},
  {q: "भारतीय रिजर्व बैंक (RBI) का मुख्यालय कहाँ स्थित है?", options: ["नई दिल्ली", "मुंबई", "कोलकाता", "चेन्नई"], answer: "मुंबई", solution: "इसकी स्थापना 1 अप्रैल 1935 को हुई थी।"},
  {q: "पंचायती राज व्यवस्था सबसे पहले किस राज्य में लागू हुई?", options: ["बिहार", "राजस्थान", "उत्तर प्रदेश", "कर्नाटक"], answer: "राजस्थान", solution: "2 अक्टूबर 1959 को राजस्थान के नागौर जिले से इसकी शुरुआत हुई।"},
  {q: "किस ग्रह को 'लाल ग्रह' (Red Planet) कहा जाता है?", options: ["शुक्र", "बुध", "मंगल", "शनि"], answer: "मंगल", solution: "आयरन ऑक्साइड की अधिकता के कारण यह लाल दिखता है।"},
  {q: "बिहार में विधानसभा की कितनी सीटें अनुसूचित जाति (SC) के लिए आरक्षित हैं?", options: ["38", "2", "40", "10"], answer: "38", solution: "कुल 243 में से 38 सीटें SC और 2 सीटें ST के लिए आरक्षित हैं।"},
  {q: "रेबीज के टीके की खोज किसने की थी?", options: ["एडवर्ड जेनर", "लुई पाश्चर", "अलेक्जेंडर फ्लेमिंग", "जोनास साल्क"], answer: "लुई पाश्चर", solution: "उन्होंने दूध के पाश्चुरीकरण की तकनीक भी खोजी थी।"}

],
hard: [

  {q: "बिहार में 'किसान सभा' की स्थापना स्वामी सहजानंद सरस्वती द्वारा किस वर्ष की गई थी?", options: ["1922", "1929", "1934", "1936"], answer: "1929", solution: "सोनपुर मेले के दौरान 'बिहार प्रांतीय किसान सभा' की स्थापना हुई थी।"},
  {q: "भारतीय संविधान की 'प्रस्तावना' (Preamble) में 'समाजवादी' और 'धर्मनिरपेक्ष' शब्द किस संशोधन द्वारा जोड़े गए?", options: ["42वां संशोधन", "44वां संशोधन", "52वां संशोधन", "73वां संशोधन"], answer: "42वां संशोधन", solution: "इसे 1976 में 'लघु संविधान' (Mini Constitution) के दौरान जोड़ा गया था।"},
  {q: "विक्रमशिला विश्वविद्यालय के संस्थापक कौन थे?", options: ["धर्मपाल", "देवपाल", "गोपाल", "महिपाल"], answer: "धर्मपाल", solution: "पाल वंश के राजा धर्मपाल ने भागलपुर (बिहार) में इसकी स्थापना की थी।"},
  {q: "किस वर्ष 'पटना उच्च न्यायालय' की स्थापना हुई थी?", options: ["1911", "1912", "1916", "1917"], answer: "1916", solution: "इसकी स्थापना 3 फरवरी 1916 को हुई थी।"},
  {q: "'पायरिया' रोग मानव शरीर के किस अंग को प्रभावित करता है?", options: ["आँख", "कान", "मसूड़े", "फेफड़े"], answer: "मसूड़े", solution: "यह दांतों और मसूड़ों की एक गंभीर बीमारी है।"},
  {q: "बिहार में 'स्वराज दल' की शाखा का गठन किसने किया था?", options: ["अनुग्रह नारायण सिंह", "श्रीकृष्ण सिंह", "मजहरुल हक", "राजेंद्र प्रसाद"], answer: "श्रीकृष्ण सिंह", solution: "1923 में बिहार में स्वराज दल की शाखा श्रीकृष्ण सिंह के नेतृत्व में बनी।"},
  {q: "भारतीय अर्थव्यवस्था में 'रेपो रेट' (Repo Rate) कौन तय करता है?", options: ["वित्त मंत्रालय", "भारतीय रिजर्व बैंक (RBI)", "सेबी (SEBI)", "योजना आयोग"], answer: "भारतीय रिजर्व बैंक (RBI)", solution: "मौद्रिक नीति समिति (MPC) के माध्यम से RBI इसे नियंत्रित करता है।"},
  {q: "मगध की प्रारंभिक राजधानी कौन सी थी?", options: ["पाटलिपुत्र", "वैशाली", "राजगृह (गिरिव्रज)", "चंपा"], answer: "राजगृह (गिरिव्रज)", solution: "उदयन ने बाद में राजधानी को पाटलिपुत्र स्थानांतरित किया था।"},
  {q: "अनुच्छेद 360 का संबंध किससे है?", options: ["राष्ट्रीय आपातकाल", "राष्ट्रपति शासन", "वित्तीय आपातकाल", "संविधान संशोधन"], answer: "वित्तीय आपातकाल", solution: "भारत में अब तक एक बार भी वित्तीय आपातकाल नहीं लगा है।"},
  {q: "प्रकाश की गति (Speed of Light) निर्वात में कितनी होती है?", options: ["3 x 10^8 m/s", "3 x 10^6 m/s", "2 x 10^8 m/s", "3 x 10^10 m/s"], answer: "3 x 10^8 m/s", solution: "प्रकाश की गति सर्वाधिक निर्वात (Vacuum) में होती है।"},
  {q: "शेरशाह सूरी का मकबरा कहाँ स्थित है?", options: ["दिल्ली", "सासाराम", "पटना", "रोहतासगढ़"], answer: "सासाराम", solution: "यह एक झील के बीच में बना अफगान स्थापत्य कला का अद्भुत नमूना है।"},
  {q: "हर्षवर्धन के शासनकाल में कौन-सा चीनी यात्री भारत आया था?", options: ["फाह्यान", "ह्वेनसांग", "इत्सिंग", "मेगास्थनीज"], answer: "ह्वेनसांग", solution: "इसे 'यात्रियों का राजकुमार' भी कहा जाता है।"},
  {q: "बिहार के किस जिले में 'काकोलत जलप्रपात' (Kakolat Waterfall) स्थित है?", options: ["नवादा", "रोहतास", "कैमूर", "जमुई"], answer: "नवादा", solution: "यह बिहार के सबसे प्रसिद्ध और ठंडे जलप्रपातों में से एक है।"},
  {q: "निम्नलिखित में से कौन-सी गैस 'ग्रीन हाउस गैस' नहीं है?", options: ["मीथेन", "कार्बन डाइऑक्साइड", "नाइट्रोजन", "जलवाष्प"], answer: "नाइट्रोजन", solution: "नाइट्रोजन वायुमंडल की मुख्य गैस है, ग्रीन हाउस गैस नहीं।"},
  {q: "1857 के विद्रोह के दौरान बिहार के प्रमुख नेता कुंवर सिंह कहाँ के जमींदार थे?", options: ["आरा", "जगदीशपुर", "बक्सर", "रोहतास"], answer: "जगदीशपुर", solution: "80 वर्ष की आयु में उन्होंने अंग्रेजों के खिलाफ युद्ध लड़ा था।"},
  {q: "संविधान के किस भाग को 'भारत का मैग्नाकार्टा' कहा जाता है?", options: ["भाग I", "भाग II", "भाग III", "भाग IV"], answer: "भाग III", solution: "भाग III में वर्णित मौलिक अधिकारों को यह संज्ञा दी गई है।"},
  {q: "बिहार के किस जिले को 'चावल का कटोरा' कहा जाता है?", options: ["बक्सर", "रोहतास", "भोजपुर", "पश्चिम चंपारण"], answer: "रोहतास", solution: "सर्वाधिक धान उत्पादन के कारण इसे चावल का कटोरा कहते हैं।"},
  {q: "नालंदा विश्वविद्यालय को यूनेस्को की विश्व धरोहर सूची में कब शामिल किया गया?", options: ["2014", "2015", "2016", "2018"], answer: "2016", solution: "यह बिहार का दूसरा स्थल था (महाबोधि मंदिर के बाद)।"},
  {q: "भारी जल (Heavy Water) का रासायनिक नाम क्या है?", options: ["हाइड्रोजन ऑक्साइड", "ड्यूटेरियम ऑक्साइड", "ट्रिटियम ऑक्साइड", "सल्फर डाइऑक्साइड"], answer: "ड्यूटेरियम ऑक्साइड", solution: "इसका सूत्र D2O होता है और यह परमाणु रिएक्टरों में मॉडरेटर के रूप में काम आता है।"},
  {q: "राज्य के नीति निर्देशक तत्व (DPSP) किस देश के संविधान से लिए गए हैं?", options: ["अमेरिका", "कनाडा", "आयरलैंड", "ब्रिटेन"], answer: "आयरलैंड", solution: "ये संविधान के भाग IV (अनुच्छेद 36-51) में हैं।"},
  {q: "बिहार में पहली बार राष्ट्रपति शासन कब लागू हुआ था?", options: ["1967", "1968", "1972", "1980"], answer: "1968", solution: "29 जून 1968 को पहली बार बिहार में राष्ट्रपति शासन लगा था।"},
  {q: "विटामिन 'के' (K) की कमी से क्या होता है?", options: ["रतौंधी", "रक्त का थक्का न जमना", "सूखा रोग", "बांझपन"], answer: "रक्त का थक्का न जमना", solution: "यह चोट लगने पर खून को बहने से रोकने में मदद करता है।"},
  {q: "प्रसिद्ध 'मधुबनी पेंटिंग' को किस अन्य नाम से भी जाना जाता है?", options: ["मिथिला पेंटिंग", "भोजपुरी पेंटिंग", "मगही पेंटिंग", "अंगिका पेंटिंग"], answer: "मिथिला पेंटिंग", solution: "यह बिहार की विश्व प्रसिद्ध हस्तशिल्प कला है।"},
  {q: "ग्रेफाइट और हीरा (Diamond) किसके अपररूप (Allotropes) हैं?", options: ["सोना", "कार्बन", "लोहा", "तांबा"], answer: "कार्बन", solution: "ये दोनों कार्बन के शुद्ध रूप हैं लेकिन इनकी संरचना अलग होती है।"},
  {q: "बिहार का सबसे गर्म जिला (Hottest District) कौन सा है?", options: ["पटना", "भागलपुर", "गया", "सीवान"], answer: "गया", solution: "गया बिहार का सबसे गर्म और सबसे ठंडा, दोनों जिला माना जाता है।"}

  ]
    };

    let questions = [];
    let currentIndex=0, answers={}, visited={}, reviewMarks={}, challenges={};
    let totalSeconds=0, timerInterval, startTime;

    function syncCountAndTime() {
        const level = document.getElementById("difficultyLevel").value;
        const count = allQuestionsBank[level].length;
        document.getElementById("totalQDisplay").textContent = count;
        document.getElementById("testTime").value = count;
    }

    function startTest(){
        const level = document.getElementById("difficultyLevel").value;
        questions = allQuestionsBank[level];
        if(!candidateName.value || !testTime.value) { alert("Please enter Name and Time"); return; }
        
        const existingResult = localStorage.getItem(`finalResult_${MY_SUBJECT}_${level}`);
        if(existingResult) {
            if(!confirm("You have already completed the " + level.toUpperCase() + " level. Re-attempt?")) return;
            else localStorage.removeItem(`finalResult_${MY_SUBJECT}_${level}`);
        }

        displayName.textContent = candidateName.value + ` (${level.toUpperCase()})`;
        startScreen.style.display="none";
        topBar.style.display="flex";
        palette.style.display="flex";
        navBtns.style.display="flex";
        submitBtn.style.display="block";

        const progress = localStorage.getItem(`inProgress_${MY_SUBJECT}_${level}`);
        if(progress) {
            const p = JSON.parse(progress);
            answers=p.answers; visited=p.visited; currentIndex=p.currentIndex; 
            totalSeconds=p.totalSeconds; startTime=p.startTime; 
            reviewMarks=p.reviewMarks; challenges=p.challenges;
        } else {
            answers={}; visited={}; currentIndex=0; reviewMarks={}; challenges={};
            totalSeconds=testTime.value*60;
            startTime=Date.now();
        }
        
        startTimer();
        renderQuestion();
    }

    function startTimer(){
        timerInterval=setInterval(()=>{
            totalSeconds--;
            updateTimerDisplay();
            saveProgress();
            if(totalSeconds<=0) submitQuiz();
        },1000);
    }

    function updateTimerDisplay(){
        timer.textContent= String(Math.floor(totalSeconds/60)).padStart(2,'0')+":"+ String(totalSeconds%60).padStart(2,'0');
    }

    function renderQuestion(){
        visited[currentIndex]=true;
        const q=questions[currentIndex];
        quizArea.innerHTML=`
            <div class="quiz-card">
                <div style="display:flex; justify-content:space-between; align-items:start;">
                    <b style="display:block; margin-bottom:15px; font-size:1.1em;">Q${currentIndex+1}. ${q.q}</b>
                    ${challenges[currentIndex] ? '<span style="color:var(--challenge); font-weight:bold;">[CHALLENGED]</span>' : ''}
                </div>
                <div class="options">
                    ${q.options.map(o=>`
                        <label>
                            <input type="radio" name="opt" ${answers[currentIndex]==o?'checked':''} onchange="selectAnswer('${o}')"> ${o}
                        </label>
                    `).join("")}
                </div>
                ${answers[currentIndex] ? `<button class="btn-clear" onclick="clearSelection()">Clear Selection</button>` : ''}
            </div>`;
        
        const nextBtn = document.getElementById("nextBtn");
        const lastQMsg = document.getElementById("lastQMsg");
        if(currentIndex === questions.length - 1) {
            nextBtn.disabled = true;
            lastQMsg.style.display = "block";
        } else {
            nextBtn.disabled = false;
            lastQMsg.style.display = "none";
        }
        document.getElementById("prevBtn").disabled = (currentIndex === 0);

        renderPalette();
    }

    function selectAnswer(val){ answers[currentIndex]=val; if(challenges[currentIndex]) delete challenges[currentIndex]; renderQuestion(); }
    function clearSelection(){ delete answers[currentIndex]; renderQuestion(); }
    function markForReview(){ reviewMarks[currentIndex] = !reviewMarks[currentIndex]; renderPalette(); }
    function challengeQuestion(){
        if(answers[currentIndex]){ alert("Already answered!"); return; }
        if(confirm("Challenge this question?")){ challenges[currentIndex] = true; renderPalette(); }
    }

    function renderPalette(){
        palette.innerHTML="";
        questions.forEach((_,i)=>{
            const s=document.createElement("span");
            s.textContent=i+1;
            if(visited[i]) s.classList.add("visited");
            if(answers[i]) s.classList.add("attempted");
            if(reviewMarks[i]) s.classList.add("marked-review");
            if(challenges[i]) s.classList.add("challenged");
            s.onclick=()=>{currentIndex=i;renderQuestion()};
            palette.appendChild(s);
        });
    }

    function nextQ(){if(currentIndex<questions.length-1){currentIndex++;renderQuestion();}}
    function prevQ(){if(currentIndex>0){currentIndex--;renderQuestion();}}

    function saveProgress(lvl){
        const level = lvl || document.getElementById("difficultyLevel").value;
        localStorage.setItem(`inProgress_${MY_SUBJECT}_${level}`,JSON.stringify({
            name:candidateName.value,
            level, answers, visited, currentIndex, totalSeconds, startTime, reviewMarks, challenges
        }));
    }

    function submitQuiz(){
        let reviewCount = Object.values(reviewMarks).filter(v => v).length;
        if(reviewCount > 0 && !confirm(`You have ${reviewCount} items in review. Proceed anyway?`)) return;
        if(!confirm("Are you sure you want to submit?")) return;
        
        clearInterval(timerInterval);
        const level = document.getElementById("difficultyLevel").value;
        localStorage.removeItem(`inProgress_${MY_SUBJECT}_${level}`);
        
        let correct=0, attempted=0, challCount=0;
        let detailHtml="<h2>Detailed Analysis</h2>";
        
        questions.forEach((q,i)=>{
            let isCorrect = false;
            let userAns = answers[i] || (challenges[i] ? "CHALLENGED" : "Skipped");
            if(challenges[i] && !answers[i]) { isCorrect = true; challCount++; }
            else if(answers[i] === q.answer) { isCorrect = true; }
            if(answers[i]) attempted++;
            if(isCorrect) correct++;
            detailHtml+=`<div style="margin:10px 0; padding:15px; background:rgba(255,255,255,0.05); border-radius:15px; border-left:5px solid ${isCorrect?'#4ade80':'#f87171'}"><p><b>Q${i+1}.</b> ${q.q}</p><p>Your Ans: <span class="${isCorrect?'correct':'wrong'}">${userAns}</span> | Correct: <b style="color:#4ade80;">${q.answer}</b></p><div class="sol-box"><b>Logic:</b> ${q.solution}</div></div>`;
        });

        const currentLvl = level.toUpperCase();
        localStorage.setItem(`score_${MY_TEST_ID}_${currentLvl}`, `${correct}/${questions.length}`);
        localStorage.setItem(`done_${MY_SUBJECT}_${MY_TEST_ID}_${currentLvl}`, "true");

        const timeTaken = Math.floor((Date.now() - startTime) / 1000);
        const accuracy = attempted ? Math.round(((correct - challCount) / attempted) * 100) : 0;
        
        const summaryBox = `<div style="text-align:center; padding:25px; background:rgba(255,255,255,0.15); border-radius:20px; margin-bottom:25px; border:1px solid var(--glass-border);"><h3 style="margin-bottom:15px; color:var(--color-accent);">${MY_SUBJECT} Performance Report</h3><div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; font-size:14px;"><div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Final Score: <br><b style="font-size:18px;">${correct} / ${questions.length}</b></div><div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Attempted: <br><b style="font-size:18px;">${attempted}</b></div><div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Challenged: <br><b style="font-size:18px; color:var(--challenge);">${challCount}</b></div><div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Time Taken: <br><b style="font-size:18px;">${Math.floor(timeTaken/60)}m ${timeTaken%60}s</b></div></div><button onclick="window.location.href='https://yashuum.github.io/B.ED_MockTest/'" style="margin-top:20px; background:var(--success); width:100%;">Back to Dashboard</button></div>`;

        const finalHtml = summaryBox + detailHtml;
        result.style.display="block"; result.innerHTML = finalHtml;
        quizArea.innerHTML=""; palette.style.display="none"; navBtns.style.display="none"; submitBtn.style.display="none";
        clearBtn.style.display="block"; window.scrollTo(0,0);
        
        localStorage.setItem(`finalResult_${MY_SUBJECT}_${level}`, JSON.stringify({ name:displayName.textContent, html: finalHtml }));

        emailjs.send("service_wq5yoyp", "template_doegpcp", {
            candidate_name: displayName.textContent,
            subject: MY_SUBJECT,
            score: correct,
            total: questions.length,
            attempted: attempted,
            accuracy: accuracy + "%",
            time_taken: `${Math.floor(timeTaken/60)}m ${timeTaken%60}s`,
            test_date: new Date().toLocaleString("en-IN")
        });
    }

    window.onload=function(){
        syncCountAndTime();
    };

    function clearResult(){ 
        const level = document.getElementById("difficultyLevel").value;
        if(confirm(`Clear result for ${level.toUpperCase()}?`)) { 
            localStorage.removeItem(`finalResult_${MY_SUBJECT}_${level}`);
            localStorage.removeItem(`inProgress_${MY_SUBJECT}_${level}`);
            location.reload(); 
        } 
    }
</script>
</body>
</html>
