<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NishuAbhyasi – Hindi by Yash</title>
    <style>
        :root{
            --color-primary: #1a2a6c;
            --color-secondary: #2575fc;
            --color-accent: #f2994a;
            --glass: rgba(255, 255, 255, 0.12);
            --glass-border: rgba(255, 255, 255, 0.25);
            --success: #16a34a;
            --danger: #ef4444;
            --review: #8b5cf6;
            --challenge: #f59e0b;
        }
        *{box-sizing:border-box; margin:0; padding:0; font-family:'Segoe UI', Tahoma, sans-serif;}
        body{
            min-height:100vh;
            background: linear-gradient(-45deg, var(--color-primary), var(--color-secondary), var(--color-primary), var(--color-accent));
            background-size: 300% 300%;
            animation: dynamicFlow 18s ease-in-out infinite;
            color: #fff;
            padding: 20px 10px;
        }
        @keyframes dynamicFlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.5); opacity: 0.5; } 100% { transform: scale(1); opacity: 1; } }
        
        .container{ max-width:900px; margin:auto; position: relative; z-index: 2; }
        h1{ text-align:center; margin-bottom:10px; font-weight: 800; text-shadow: 0 4px 10px rgba(0,0,0,0.3); }

        .start-screen{ background: var(--glass); backdrop-filter: blur(20px); border: 1px solid var(--glass-border); padding: 40px 20px; border-radius: 30px; text-align:center; margin-top: 50px; display: flex; flex-direction: column; gap: 15px; align-items: center; }
        .input-row { display: flex; gap: 15px; width: 100%; max-width: 600px; justify-content: center; }
        .start-screen input, .start-screen select { 
            width: 100%; padding: 15px; border-radius: 15px; border: 1px solid var(--glass-border); 
            background: rgba(255, 255, 255, 0.15); color: #fff; font-size: 16px; outline: none; 
        }
		.start-screen input::placeholder { color: white !important; opacity: 1; }
        .start-screen option { color: #000; }
        
        .q-count-sticker { background: rgba(255, 255, 255, 0.1); padding: 8px 20px; border-radius: 50px; border: 1px solid var(--glass-border); font-size: 14px; display: flex; align-items: center; gap: 10px; }
        .pulse-dot { width: 8px; height: 8px; background: #4facfe; border-radius: 50%; animation: pulse 1.5s infinite; }
        
        button{ padding: 14px 28px; border: none; border-radius: 15px; background: linear-gradient(135deg, #ff9800, #ff5722); color: #fff; cursor: pointer; font-weight: 700; transition: 0.3s; }
        button:hover:not(:disabled){ transform: scale(1.05); }
        button:disabled{ opacity: 0.5; cursor: not-allowed; }

        .btn-secondary { background: rgba(255,255,255,0.15); }
        .btn-review { background: var(--review); }
        .btn-challenge { background: var(--challenge); }
        .btn-clear { background: transparent; border: 1px solid #fff; padding: 6px 12px; font-size: 12px; margin-top: 10px; border-radius: 8px; cursor: pointer; color: #fff; }

        .top-bar{ display:none; justify-content:space-between; align-items:center; padding:15px 25px; background: var(--glass); backdrop-filter: blur(15px); border:1px solid var(--glass-border); border-radius:50px; position:sticky; top:10px; z-index:100; margin-bottom:15px; }
        .timer{ font-weight:800; color:#fff; background: var(--danger); padding: 5px 15px; border-radius: 20px; }
        
        #palette{ display:none; flex-wrap:wrap; gap:8px; margin-bottom:20px; justify-content: center; padding: 10px; }
        .palette span{ width:38px; height:38px; display:flex; align-items:center; justify-content:center; border-radius:10px; background: rgba(255,255,255,0.1); border: 1px solid var(--glass-border); cursor:pointer; font-size: 13px; }
        .palette .visited{ border: 2px solid var(--color-secondary); }
        .palette .attempted{ background: var(--success); box-shadow: 0 0 8px var(--success); }
        .palette .marked-review{ background: var(--review); }
        .palette .challenged{ background: var(--challenge); }

        .quiz-card{ background: var(--glass); border:1px solid var(--glass-border); backdrop-filter: blur(20px); border-radius:25px; padding:30px; }
        .options label{ display:flex; align-items: center; gap:12px; padding:14px; background: rgba(255,255,255,0.05); border:1px solid var(--glass-border); border-radius:15px; margin:10px 0; cursor:pointer; transition: 0.2s; }
        .options label:hover{ background: rgba(255,255,255,0.15); transform: translateX(5px); }
        
        .nav{ display:none; justify-content:space-between; margin-top:20px; flex-wrap: wrap; gap: 10px; }
        .result{ background: var(--glass); padding: 25px; border-radius: 25px; margin-top:20px; }
        .correct{ color: #4ade80; font-weight:bold; }
        .wrong{ color: #f87171; font-weight:bold; }
        .sol-box { margin-top:12px; padding:12px; background:rgba(242, 153, 74, 0.15); border-radius:12px; font-size:14px; color:#ffcc80; border: 1px dashed var(--color-accent); }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
    <script> (function () { emailjs.init("L8kGW-X7JOiYaycH5"); })(); </script>
</head>
<body>
<div class="container">
    <h1>Target Test- Hindi 2026</h1>
    <p style="text-align:center; opacity:0.8; font-size:13px; margin-bottom:20px; color:#fff;">Last Updated: 22 Jan, 2026 - 09:23 PM</p>
    
    <div class="start-screen" id="startScreen">
        <div class="input-row">
            <input id="candidateName" placeholder="Enter your name">
            <input id="testTime" type="number" placeholder="Minutes">
        </div>
        
        <select id="difficultyLevel" style="max-width: 600px;" onchange="syncCountAndTime()">
            <option value="easy">Level: Easy</option>
            <option value="medium">Medium</option>
            <option value="hard">Hard</option>
        </select>

        <div class="q-count-sticker">
            <span class="pulse-dot"></span>
            <span>Questions Loaded: <b id="totalQDisplay">0</b></span>
        </div>

        <div style="display:flex; gap:10px;">
            <button onclick="startTest()">Start Test</button>
            <button type="button" class="btn-secondary" onclick="window.location.href='https://yashuum.github.io/B.ED_MockTest/'">Go Back</button>
        </div>
    </div>

    <div class="top-bar" id="topBar">
        <div><small style="opacity:0.9;">CANDIDATE:</small><br><b id="displayName"></b></div>
        <div class="timer" id="timer">00:00</div>
    </div>

    <div id="palette" class="palette"></div>
    <div id="quizArea"></div>

    <div class="nav" id="navBtns">
        <button class="btn-secondary" onclick="prevQ()" id="prevBtn">← Prev</button>
        <button class="btn-review" onclick="markForReview()">Review</button>
        <button class="btn-challenge" onclick="challengeQuestion()">Challenge</button>
        <div style="display:flex; flex-direction:column; align-items:center;">
            <button onclick="nextQ()" id="nextBtn">Next →</button>
            <span id="lastQMsg" style="font-size:10px; color:var(--color-accent); margin-top:5px; display:none;">Last question, submit test now</span>
        </div>
    </div>

    <button id="submitBtn" style="display:none; margin: 30px auto 0; width: 100%;" onclick="submitQuiz()">Submit Test Now</button>
    <div id="result" class="result" style="display:none"></div>
    <button id="clearBtn" class="btn-secondary" style="display:none; width:100%; margin-top:20px; background:var(--danger);" onclick="clearResult()">Clear Result & Restart</button>
</div>

<script>
    const MY_SUBJECT = "Hindi";
	const MY_TEST_ID = "HIN_SET_05"; 

    const allQuestionsBank = {
easy: [

  {q: "हिन्दी वर्णमाला में कुल कितने 'स्वर' (Vowels) हैं?", options: ["9", "11", "13", "33"], answer: "11", solution: "हिन्दी में 11 स्वर होते हैं, जबकि व्यंजनों की संख्या 33 मानी जाती है।"},
  {q: "‘क’ वर्ग का उच्चारण स्थान क्या है?", options: ["तालु", "कण्ठ", "मूर्धा", "दन्त"], answer: "कण्ठ", solution: "क, ख, ग, घ का उच्चारण गले (कण्ठ) से होता है।"},
  {q: "‘हिमालय’ शब्द में कौन-सी संज्ञा है?", options: ["जातिवाचक", "व्यक्तिवाचक", "भाववाचक", "समूहवाचक"], answer: "व्यक्तिवाचक", solution: "किसी विशेष पर्वत का नाम होने के कारण यह व्यक्तिवाचक संज्ञा है।"},
  {q: "‘सुन्दरता’ शब्द में कौन-सी संज्ञा है?", options: ["जातिवाचक", "व्यक्तिवाचक", "भाववाचक", "द्रव्यवाचक"], answer: "भाववाचक", solution: "गुण, दोष या अवस्था का बोध कराने वाले शब्द भाववाचक संज्ञा कहलाते हैं।"},
  {q: "जो शब्द संज्ञा के स्थान पर प्रयोग किए जाते हैं, उन्हें क्या कहते हैं?", options: ["विशेषण", "क्रिया", "सर्वनाम", "अव्यय"], answer: "सर्वनाम", solution: "जैसे - मैं, तुम, वह, हम आदि।"},
  {q: "‘पानी’ का पर्यायवाची शब्द नहीं है:", options: ["नीर", "तोय", "अम्बु", "अनिल"], answer: "अनिल", solution: "अनिल का अर्थ 'हवा' होता है, पानी के पर्यायवाची नीर, तोय, वारि, अम्बु हैं।"},
  {q: "‘दिन’ का विलोम शब्द क्या है?", options: ["सुबह", "शाम", "रात", "दोपहर"], answer: "रात", solution: "दिन का उल्टा रात होता है।"},
  {q: "‘विद्या + आलय’ का सही संधि शब्द क्या होगा?", options: ["विद्यलय", "विद्यालाय", "विद्यालय", "विद्यलाय"], answer: "विद्यालय", solution: "यह दीर्घ स्वर संधि है (आ + आ = आ)।"},
  {q: "‘लम्बोदर’ में कौन-सा समास है?", options: ["द्विगु", "द्वंद्व", "बहुव्रीहि", "तत्पुरुष"], answer: "बहुव्रीहि", solution: "लम्बा है उदर जिसका अर्थात् गणेश जी (तीसरा अर्थ प्रधान है)।"},
  {q: "शुद्ध वर्तनी (Correct Spelling) का चयन करें:", options: ["आशिर्वाद", "आशीर्वाद", "असीर्वाद", "आशीरवाद"], answer: "आशीर्वाद", solution: "आशीर्वाद में 'श' पर बड़ी 'ई' और 'व' पर रेफ (र) लगता है।"},
  {q: "‘आँख का तारा’ मुहावरे का अर्थ है:", options: ["अंधा होना", "बहुत प्यारा होना", "दुश्मन होना", "कम दिखना"], answer: "बहुत प्यारा होना", solution: "अत्यंत प्रिय व्यक्ति को 'आँख का तारा' कहते हैं।"},
  {q: "‘कवि’ शब्द का सही स्त्रीलिंग रूप क्या है?", options: ["कविनी", "कवयित्री", "कवियत्री", "कवियित्री"], answer: "कवयित्री", solution: "यह शब्द वर्तनी शुद्धि के लिए भी बहुत महत्वपूर्ण है।"},
  {q: "जो शब्द किसी शब्द के 'अंत' में जुड़कर अर्थ बदल देते हैं, कहलाते हैं:", options: ["उपसर्ग", "प्रत्यय", "संधि", "समास"], answer: "प्रत्यय", solution: "अंत में जुड़ने वाले 'प्रत्यय' और पहले जुड़ने वाले 'उपसर्ग' होते हैं।"},
  {q: "‘माता-पिता’ में कौन-सा समास है?", options: ["द्विगु", "द्वंद्व", "अव्ययीभाव", "कर्मधारय"], answer: "द्वंद्व", solution: "जहाँ दोनों पद प्रधान हों और बीच में योजक चिह्न हो, वहाँ द्वंद्व समास होता है।"},
  {q: "‘हाथ साफ़ करना’ मुहावरे का अर्थ क्या है?", options: ["हाथ धोना", "चोरी करना", "सफाई करना", "हाथ मिलाना"], answer: "चोरी करना", solution: "किसी वस्तु को चतुराई से चुरा लेना।"},
  {q: "‘अंधे की लाठी’ का अर्थ है:", options: ["अंधेरे में चलना", "एकमात्र सहारा", "लकड़ी पकड़ना", "सहायता न करना"], answer: "एकमात्र सहारा", solution: "मुसीबत में इकलौता मददगार होना।"},
  {q: "भाषा की सबसे छोटी इकाई को क्या कहते हैं?", options: ["शब्द", "वर्ण", "वाक्य", "पद"], answer: "वर्ण", solution: "वर्ण (अक्षर) भाषा की सबसे छोटी ध्वनि इकाई है।"},
  {q: "‘आम’ कौन-सी संज्ञा है?", options: ["व्यक्तिवाचक", "जातिवाचक", "समूहवाचक", "द्रव्यवाचक"], answer: "जातिवाचक", solution: "आम एक फल की पूरी जाति का बोध कराता है।"},
  {q: "‘वह स्कूल जा रहा है’ - इसमें ‘वह’ क्या है?", options: ["संज्ञा", "सर्वनाम", "क्रिया", "विशेषण"], answer: "सर्वनाम", solution: "यह नाम की जगह इस्तेमाल हुआ है।"},
  {q: "‘सत्य’ का विलोम शब्द क्या है?", options: ["झूठ", "असत्य", "बुरा", "अधर्म"], answer: "असत्य", solution: "सत्य का विपरीतार्थक असत्य होता है।"},
  {q: "‘वृक्ष से पत्ता गिरता है’ - इसमें कौन-सा कारक है?", options: ["कर्ता", "करण", "अपादान", "सम्बन्ध"], answer: "अपादान", solution: "अलग होने (Separation) के अर्थ में 'अपादान' कारक (से) का प्रयोग होता है।"},
  {q: "‘कमल’ का पर्यायवाची शब्द है:", options: ["पंकज", "जलद", "नीरज", "A और C दोनों"], answer: "A और C दोनों", solution: "पंकज और नीरज कमल के हैं, जबकि 'जलद' बादल का है।"},
  {q: "‘चौराहा’ में कौन-सा समास है?", options: ["द्वंद्व", "तत्पुरुष", "द्विगु", "अव्ययीभाव"], answer: "द्विगु", solution: "जहाँ पहला पद संख्यावाचक (चार) हो, वहाँ द्विगु समास होता है।"},
  {q: "‘उपकार’ को मानने वाला व्यक्ति क्या कहलाता है?", options: ["कृतघ्न", "कृतज्ञ", "परोपकारी", "दानी"], answer: "कृतज्ञ", solution: "जो उपकार माने उसे कृतज्ञ और जो न माने उसे कृतघ्न कहते हैं।"},
  {q: "स्वर संधि के कितने भेद होते हैं?", options: ["3", "4", "5", "6"], answer: "5", solution: "दीर्घ, गुण, वृद्धि, यण और अयादि संधि।"}

 ],
medium: [

  {q: "‘पवन’ का सही संधि-विच्छेद क्या है?", options: ["प + वन", "पो + अन", "पौ + अन", "पव + न"], answer: "पो + अन", solution: "यह अयादि स्वर संधि है (ओ + अ = अव)।"},
  {q: "‘यथाशक्ति’ में कौन-सा समास है?", options: ["तत्पुरुष", "द्विगु", "अव्ययीभाव", "बहुव्रीहि"], answer: "अव्ययीभाव", solution: "जिसका पहला पद 'यथा' (अव्यय) हो, वह अव्ययीभाव समास होता है।"},
  {q: "‘जंगम’ का सही विलोम शब्द क्या है?", options: ["स्थावर", "स्थिर", "चंचल", "मूक"], answer: "स्थावर", solution: "जंगम का अर्थ है 'चलने वाला' और स्थावर का अर्थ है 'स्थिर'।"},
  {q: "‘कनक कनक ते सौ गुनी, मादकता अधिकाय’ - में कौन-सा अलंकार है?", options: ["अनुप्रास", "यमक", "श्लेष", "उपमा"], answer: "यमक", solution: "यहाँ 'कनक' शब्द दो बार आया है, एक का अर्थ 'सोना' और दूसरे का 'धतूरा' है।"},
  {q: "‘मयूरा’ का तद्भव रूप क्या होगा?", options: ["मोर", "मैना", "मुर्गा", "मछली"], answer: "मोर", solution: "संस्कृत के 'मयूर' शब्द का बदला हुआ रूप 'मोर' तद्भव है।"},
  {q: "‘तरणि’ और ‘तरणी’ शब्द युग्म का सही अर्थ क्या है?", options: ["सूर्य-नाव", "नाव-सूर्य", "नदी-नाव", "नाव-नदी"], answer: "सूर्य-नाव", solution: "तरणि (छोटी इ) = सूर्य, तरणी (बड़ी ई) = नाव।"},
  {q: "‘राम ने रावण को मारा’ - इस वाक्य में कौन-सा वाच्य (Voice) है?", options: ["कर्तृवाच्य", "कर्मवाच्य", "भाववाच्य", "कोई नहीं"], answer: "कर्तृवाच्य", solution: "इसमें कर्ता (राम) की प्रधानता है, इसलिए कर्तृवाच्य है।"},
  {q: "‘सावधानी’ शब्द में कौन-सा प्रत्यय लगा है?", options: ["नी", "आनी", "ई", "धानी"], answer: "ई", solution: "सावधान + ई = सावधानी।"},
  {q: "‘अपादान तत्पुरुष’ का सही उदाहरण कौन-सा है?", options: ["राजपुत्र", "देशभक्ति", "पथभ्रष्ट", "यज्ञशाला"], answer: "पथभ्रष्ट", solution: "पथ से भ्रष्ट (अलग होने का भाव)।"},
  {q: "‘अत्यधिक’ का सही संधि-विच्छेद क्या होगा?", options: ["अत्य + अधिक", "अति + अधिक", "अत + अधिक", "अत्य + धिक"], answer: "अति + अधिक", solution: "यह यण स्वर संधि है (इ + अ = य)।"},
  {q: "‘ऊष्म व्यंजन’ कौन-से हैं?", options: ["य, र, ल, व", "श, ष, स, ह", "क, ख, ग, घ", "त, थ, द, ध"], answer: "श, ष, स, ह", solution: "इनके उच्चारण में मुँह से रगड़ खाकर गर्म हवा निकलती है।"},
  {q: "‘जो बहुत कम बोलता हो’ - वाक्यांश के लिए एक शब्द:", options: ["वाचाल", "मितभाषी", "मृदुभाषी", "अभाषी"], answer: "मितभाषी", solution: "बहुत बोलने वाला 'वाचाल' और कम बोलने वाला 'मितभाषी' कहलाता है।"},
  {q: "‘उज्ज्वल’ की शुद्ध वर्तनी कौन-सी है?", options: ["उज्वल", "उज्ज्वल", "उजवल", "उज्जवल"], answer: "उज्ज्वल", solution: "इसमें दोनों 'ज' आधे होते हैं (उत् + ज्वल)।"},
  {q: "‘छाती पर मूँग दलना’ मुहावरे का सही अर्थ क्या है?", options: ["मेहनत करना", "पास रहकर दुःख देना", "मूँग की खेती करना", "लड़ाई करना"], answer: "पास रहकर दुःख देना", solution: "निकट रहकर किसी को निरंतर परेशान करना।"},
  {q: "‘संविधान’ का सही संधि-विच्छेद है:", options: ["सवि + धान", "सम् + धान", "सन् + धान", "स + विधान"], answer: "सम् + धान", solution: "यह व्यंजन संधि है, म् का अनुस्वार हो जाता है।"},
  {q: "‘नीलकमल’ में कौन-सा समास है?", options: ["बहुव्रीहि", "कर्मधारय", "अव्ययीभाव", "तत्पुरुष"], answer: "कर्मधारय", solution: "नीला है जो कमल (विशेषण-विशेष्य का संबंध)।"},
  {q: "‘आस्तीन का साँप’ का अर्थ क्या है?", options: ["साँप पालना", "कपटी मित्र", "जहरीला व्यक्ति", "दुश्मनी करना"], answer: "कपटी मित्र", solution: "साथ रहकर धोखा देने वाला व्यक्ति।"},
  {q: "‘हाथी’ का तत्सम शब्द क्या है?", options: ["गयन्द", "हस्ती", "हाथ", "कुंजर"], answer: "हस्ती", solution: "हस्ती संस्कृत (तत्सम) शब्द है जिससे 'हाथी' बना है।"},
  {q: "‘अनुनासिक’ का संबंध किससे होता है?", options: ["केवल मुँह से", "केवल नाक से", "नाक और मुँह दोनों से", "गले से"], answer: "नाक और मुँह दोनों से", solution: "जैसे - चाँद, आँगन।"},
  {q: "‘रघुपति राघव राजा राम’ - में कौन-सा अलंकार है?", options: ["यमक", "अनुप्रास", "उपमा", "रूपक"], answer: "अनुप्रास", solution: "यहाँ 'र' वर्ण की आवृत्ति बार-बार हो रही है।"},
  {q: "‘प्रत्युत्पन्नमति’ शब्द का सही अर्थ क्या है?", options: ["जो फिर से उत्पन्न हुआ हो", "जिसकी बुद्धि तुरंत उत्तर दे सके", "बहुत पढ़ा-लिखा", "मूर्ख"], answer: "जिसकी बुद्धि तुरंत उत्तर दे सके", solution: "प्रति + उत्पन्न + मति (तुरंत उत्पन्न होने वाली बुद्धि)।"},
  {q: "‘आलोक’ का सही विलोम शब्द है:", options: ["अंधकार", "अज्ञात", "रात्रि", "प्राचीन"], answer: "अंधकार", solution: "आलोक का अर्थ प्रकाश होता है, जिसका उल्टा अंधकार है।"},
  {q: "‘अनार’ का पर्यायवाची शब्द नहीं है:", options: ["शुकप्रिय", "रामबीज", "दाड़िम", "अमृतफल"], answer: "अमृतफल", solution: "अमृतफल 'आम' को कहा जाता है, बाकी तीनों अनार के हैं।"},
  {q: "‘लड़का दौड़ता है’ - इस वाक्य में ‘दौड़ता’ कैसी क्रिया है?", options: ["सकर्मक", "अकर्मक", "द्विकर्मक", "संयुक्त"], answer: "अकर्मक", solution: "दौड़ने का फल कर्ता पर ही पड़ रहा है, इसमें कर्म नहीं है।"},
  {q: "‘स्वागत’ में कौन-सा उपसर्ग है?", options: ["स्व", "स", "सु", "स्वा"], answer: "सु", solution: "सु + आगत = स्वागत (यण संधि का नियम)।"}

],
hard: [

  {q: "हिन्दी साहित्य के इतिहास को 'आदिकाल' नाम किसने दिया था?", options: ["रामचंद्र शुक्ल", "हजारी प्रसाद द्विवेदी", "राहुल सांकृत्यायन", "मिश्र बंधु"], answer: "हजारी प्रसाद द्विवेदी", solution: "शुक्ल जी ने इसे 'वीरगाथा काल' कहा था, जबकि द्विवेदी जी ने 'आदिकाल' नाम दिया।"},
  {q: "‘उद्धरण’ का सही संधि-विच्छेद क्या है?", options: ["उत् + धरण", "उत् + हरण", "उद् + धरण", "उद् + हरण"], answer: "उत् + हरण", solution: "यह व्यंजन संधि का नियम है: त् + ह = द्ध।"},
  {q: "‘मृगनयनी’ में कौन-सा समास है?", options: ["अव्ययीभाव", "कर्मधारय", "तत्पुरुष", "द्विगु"], answer: "कर्मधारय", solution: "मृग के समान नयन (उपमान-उपमेय का संबंध)।"},
  {q: "‘विवत्स’ रस का स्थायी भाव क्या है?", options: ["भय", "विस्मय", "जुगुप्सा (घृणा)", "शोक"], answer: "जुगुप्सा (घृणा)", solution: "गंदी या घृणित वस्तुओं को देखकर जो भाव जगे वह विवत्स रस है।"},
  {q: "‘चौपाई’ के प्रत्येक चरण में कितनी मात्राएँ होती हैं?", options: ["11", "13", "16", "24"], answer: "16", solution: "चौपाई एक सम मात्रिक छन्द है, जिसके हर चरण में 16 मात्राएँ होती हैं।"},
  {q: "‘शुद्ध’ शब्द का चयन कीजिए:", options: ["कौतूहल", "कुतूहल", "कौतुहल", "कुतूहल"], answer: "कौतूहल", solution: "वर्तनी की दृष्टि से 'कौतूहल' सही शब्द है।"},
  {q: "‘खड़ी बोली’ हिन्दी का प्रथम महाकाव्य कौन-सा है?", options: ["कामायनी", "साकेत", "प्रियप्रवास", "पद्मावत"], answer: "प्रियप्रवास", solution: "अयोध्या सिंह उपाध्याय 'हरिऔध' द्वारा रचित प्रियप्रवास खड़ी बोली का प्रथम महाकाव्य है।"},
  {q: "‘पावक’ में कौन-सी संधि है?", options: ["गुण संधि", "वृद्धि संधि", "यण संधि", "अयादि संधि"], answer: "अयादि संधि", solution: "पौ + अक = पावक (औ + अ = आव)।"},
  {q: "‘आधा तीतर आधा बटेर’ लोकोक्ति का सही अर्थ है:", options: ["दो रंगों का होना", "बेमेल तथा बेढंगा होना", "मूर्खतापूर्ण कार्य", "पक्षी पालना"], answer: "बेमेल तथा बेढंगा होना", solution: "दो अलग-अलग चीजों का अजीब मिश्रण।"},
  {q: "‘वागर्थ’ शब्द में कौन-सी संधि है?", options: ["स्वर", "व्यंजन", "विसर्ग", "कोई नहीं"], answer: "व्यंजन", solution: "वाक् + अर्थ = वागर्थ (क् का ग् में परिवर्तन)।"},
  {q: "हिन्दी की 'आदि जननी' किसे कहा जाता है?", options: ["पालि", "प्राकृत", "अपभ्रंश", "संस्कृत"], answer: "संस्कृत", solution: "सभी भारतीय भाषाओं और हिन्दी की जननी संस्कृत है।"},
  {q: "‘अष्टछाप’ के कवियों में प्रथम नियुक्त कीर्तनकार कवि कौन थे?", options: ["सूरदास", "कुंभनदास", "कृष्णदास", "नंददास"], answer: "कुंभनदास", solution: "अष्टछाप की स्थापना विट्ठलनाथ ने की थी।"},
  {q: "‘अन्वय’ का सही संधि-विच्छेद है:", options: ["अनु + अय", "अनु + आय", "अन + वय", "अन्व + य"], answer: "अनु + अय", solution: "यह यण संधि है (उ + अ = व)।"},
  {q: "‘साकेत’ के रचनाकार कौन हैं?", options: ["जयशंकर प्रसाद", "सुमित्रानंदन पंत", "मैथिलीशरण गुप्त", "सूर्यकांत त्रिपाठी निराला"], answer: "मैथिलीशरण गुप्त", solution: "यह रामकथा पर आधारित महाकाव्य है।"},
  {q: "‘दोहा’ के प्रथम और तृतीय चरण में कितनी मात्राएँ होती हैं?", options: ["11-11", "13-13", "16-16", "24-24"], answer: "13-13", solution: "दोहा के विषम चरणों (1, 3) में 13 और सम चरणों (2, 4) में 11 मात्राएँ होती हैं।"},
  {q: "‘मसि कागद छूयो नहीं, कलम गह्यो नहिं हाथ’—यह पंक्ति किसकी है?", options: ["दादू दयाल", "रैदास", "कबीरदास", "नानक"], answer: "कबीरदास", solution: "कबीरदास अनपढ़ थे, उन्होंने मौखिक ज्ञान दिया था।"},
  {q: "‘उन्मुख’ का विलोम शब्द क्या है?", options: ["प्रमुख", "विमुख", "सन्मुख", "अधोमुख"], answer: "विमुख", solution: "उन्मुख (सामने खड़ा) का उल्टा विमुख (पीछे हटना) होता है।"},
  {q: "‘यथासाध्य’ में कौन-सा समास है?", options: ["अव्ययीभाव", "तत्पुरुष", "बहुव्रीहि", "द्वंद्व"], answer: "अव्ययीभाव", solution: "यथा अव्यय है, इसलिए अव्ययीभाव समास है।"},
  {q: "‘शृंगार’ रस का स्थायी भाव क्या है?", options: ["हास", "रति", "उत्साह", "क्रोध"], answer: "रति", solution: "शृंगार रस को 'रसराज' भी कहा जाता है।"},
  {q: "‘अनल’ और ‘अनिल’ का सही अर्थ युग्म है:", options: ["हवा-आग", "आग-हवा", "पानी-हवा", "आग-पानी"], answer: "आग-हवा", solution: "अनल = आग, अनिल = हवा।"},
  {q: "‘चिन्मय’ का संधि विच्छेद है:", options: ["चित् + मय", "चिन + मय", "चित + मय", "चि + मय"], answer: "चित् + मय", solution: "व्यंजन संधि का नियम: त् के बाद म आए तो त् न् में बदल जाता है।"},
  {q: "‘निराला’ को किस प्रकार का कवि माना जाता है?", options: ["अवसरवादी", "क्रांतिकारी", "पलायनवादी", "भाग्यवादी"], answer: "क्रांतिकारी", solution: "सूर्यकांत त्रिपाठी निराला अपने विद्रोही स्वभाव के लिए जाने जाते हैं।"},
  {q: "‘कलम का सिपाही’ किसकी जीवनी है?", options: ["प्रेमचंद", "निराला", "शरद चंद्र", "अज्ञेय"], answer: "प्रेमचंद", solution: "यह अमृत राय द्वारा लिखित प्रेमचंद की जीवनी है।"},
  {q: "‘अधम’ का विलोम शब्द क्या है?", options: ["उत्तम", "नीच", "बुरा", "नरक"], answer: "उत्तम", solution: "अधम (बुरा/गिरा हुआ) का विलोम उत्तम होता है।"},
  {q: "‘चरण कमल बंदौ हरिराई’ में कौन-सा अलंकार है?", options: ["उपमा", "रूपक", "उत्प्रेक्षा", "यमक"], answer: "रूपक", solution: "यहाँ चरणों पर कमल का सीधा आरोप है, कोई तुलना नहीं।"}
 
  ]
    };

    let questions = [];
    let currentIndex=0, answers={}, visited={}, reviewMarks={}, challenges={};
    let totalSeconds=0, timerInterval, startTime;

    function syncCountAndTime() {
        const level = document.getElementById("difficultyLevel").value;
        const count = allQuestionsBank[level].length;
        document.getElementById("totalQDisplay").textContent = count;
        document.getElementById("testTime").value = count;
    }

    function startTest(){
        const level = document.getElementById("difficultyLevel").value;
        questions = allQuestionsBank[level];
        if(!candidateName.value || !testTime.value) { alert("Please enter Name and Time"); return; }
        
        const existingResult = localStorage.getItem(`finalResult_${MY_SUBJECT}_${level}`);
        if(existingResult) {
            if(!confirm("You have already completed the " + level.toUpperCase() + " level. Re-attempt?")) return;
            else localStorage.removeItem(`finalResult_${MY_SUBJECT}_${level}`);
        }

        displayName.textContent = candidateName.value + ` (${level.toUpperCase()})`;
        startScreen.style.display="none";
        topBar.style.display="flex";
        palette.style.display="flex";
        navBtns.style.display="flex";
        submitBtn.style.display="block";

        const progress = localStorage.getItem(`inProgress_${MY_SUBJECT}_${level}`);
        if(progress) {
            const p = JSON.parse(progress);
            answers=p.answers; visited=p.visited; currentIndex=p.currentIndex; 
            totalSeconds=p.totalSeconds; startTime=p.startTime; 
            reviewMarks=p.reviewMarks; challenges=p.challenges;
        } else {
            answers={}; visited={}; currentIndex=0; reviewMarks={}; challenges={};
            totalSeconds=testTime.value*60;
            startTime=Date.now();
        }
        
        startTimer();
        renderQuestion();
    }

    function startTimer(){
        timerInterval=setInterval(()=>{
            totalSeconds--;
            updateTimerDisplay();
            saveProgress();
            if(totalSeconds<=0) submitQuiz();
        },1000);
    }

    function updateTimerDisplay(){
        timer.textContent= String(Math.floor(totalSeconds/60)).padStart(2,'0')+":"+ String(totalSeconds%60).padStart(2,'0');
    }

    function renderQuestion(){
        visited[currentIndex]=true;
        const q=questions[currentIndex];
        quizArea.innerHTML=`
            <div class="quiz-card">
                <div style="display:flex; justify-content:space-between; align-items:start;">
                    <b style="display:block; margin-bottom:15px; font-size:1.1em;">Q${currentIndex+1}. ${q.q}</b>
                    ${challenges[currentIndex] ? '<span style="color:var(--challenge); font-weight:bold;">[CHALLENGED]</span>' : ''}
                </div>
                <div class="options">
                    ${q.options.map(o=>`
                        <label>
                            <input type="radio" name="opt" ${answers[currentIndex]==o?'checked':''} onchange="selectAnswer('${o}')"> ${o}
                        </label>
                    `).join("")}
                </div>
                ${answers[currentIndex] ? `<button class="btn-clear" onclick="clearSelection()">Clear Selection</button>` : ''}
            </div>`;

        const nextBtn = document.getElementById("nextBtn");
        const lastQMsg = document.getElementById("lastQMsg");
        if(currentIndex === questions.length - 1) {
            nextBtn.disabled = true;
            lastQMsg.style.display = "block";
        } else {
            nextBtn.disabled = false;
            lastQMsg.style.display = "none";
        }
        document.getElementById("prevBtn").disabled = (currentIndex === 0);

        renderPalette();
    }

    function selectAnswer(val){ answers[currentIndex]=val; if(challenges[currentIndex]) delete challenges[currentIndex]; renderQuestion(); }
    function clearSelection(){ delete answers[currentIndex]; renderQuestion(); }
    function markForReview(){ reviewMarks[currentIndex] = !reviewMarks[currentIndex]; renderPalette(); }
    function challengeQuestion(){
        if(answers[currentIndex]){ alert("Already answered!"); return; }
        if(confirm("Challenge this question?")){ challenges[currentIndex] = true; renderPalette(); }
    }

    function renderPalette(){
        palette.innerHTML="";
        questions.forEach((_,i)=>{
            const s=document.createElement("span");
            s.textContent=i+1;
            if(visited[i]) s.classList.add("visited");
            if(answers[i]) s.classList.add("attempted");
            if(reviewMarks[i]) s.classList.add("marked-review");
            if(challenges[i]) s.classList.add("challenged");
            s.onclick=()=>{currentIndex=i;renderQuestion()};
            palette.appendChild(s);
        });
    }

    function nextQ(){if(currentIndex<questions.length-1){currentIndex++;renderQuestion();}}
    function prevQ(){if(currentIndex>0){currentIndex--;renderQuestion();}}

    function saveProgress(lvl){
        const level = lvl || document.getElementById("difficultyLevel").value;
        localStorage.setItem(`inProgress_${MY_SUBJECT}_${level}`,JSON.stringify({
            name:candidateName.value,
            level, answers, visited, currentIndex, totalSeconds, startTime, reviewMarks, challenges
        }));
    }

    function submitQuiz(){
        let reviewCount = Object.values(reviewMarks).filter(v => v).length;
        if(reviewCount > 0 && !confirm(`You have ${reviewCount} items in review. Proceed anyway?`)) return;
        if(!confirm("Are you sure you want to submit?")) return;
        
        clearInterval(timerInterval);
        const level = document.getElementById("difficultyLevel").value;
        localStorage.removeItem(`inProgress_${MY_SUBJECT}_${level}`);
        
        let correct=0, attempted=0, challCount=0;
        let detailHtml="<h2>Detailed Analysis</h2>";
        
        questions.forEach((q,i)=>{
            let isCorrect = false;
            let userAns = answers[i] || (challenges[i] ? "CHALLENGED" : "Skipped");
            if(challenges[i] && !answers[i]) { isCorrect = true; challCount++; }
            else if(answers[i] === q.answer) { isCorrect = true; }
            if(answers[i]) attempted++;
            if(isCorrect) correct++;
            detailHtml+=`<div style="margin:10px 0; padding:15px; background:rgba(255,255,255,0.05); border-radius:15px; border-left:5px solid ${isCorrect?'#4ade80':'#f87171'}"><p><b>Q${i+1}.</b> ${q.q}</p><p>Your Ans: <span class="${isCorrect?'correct':'wrong'}">${userAns}</span> | Correct: <b style="color:#4ade80;">${q.answer}</b></p><div class="sol-box"><b>Logic:</b> ${q.solution}</div></div>`;
        });

        const currentLvl = level.toUpperCase();
        localStorage.setItem(`score_${MY_TEST_ID}_${currentLvl}`, `${correct}/${questions.length}`);
        localStorage.setItem(`done_${MY_SUBJECT}_${MY_TEST_ID}_${currentLvl}`, "true");

        const timeTaken = Math.floor((Date.now() - startTime) / 1000);
        const accuracy = attempted ? Math.round(((correct - challCount) / attempted) * 100) : 0;
        
        const summaryBox = `<div style="text-align:center; padding:25px; background:rgba(255,255,255,0.15); border-radius:20px; margin-bottom:25px; border:1px solid var(--glass-border);"><h3 style="margin-bottom:15px; color:var(--color-accent);">${MY_SUBJECT} Performance Report</h3><div style="display:grid; grid-template-columns: 1fr 1fr; gap:15px; font-size:14px;"><div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Final Score: <br><b style="font-size:18px;">${correct} / ${questions.length}</b></div><div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Attempted: <br><b style="font-size:18px;">${attempted}</b></div><div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Challenged: <br><b style="font-size:18px; color:var(--challenge);">${challCount}</b></div><div style="background:rgba(255,255,255,0.1); padding:10px; border-radius:10px;">Time Taken: <br><b style="font-size:18px;">${Math.floor(timeTaken/60)}m ${timeTaken%60}s</b></div></div><button onclick="window.location.href='https://yashuum.github.io/B.ED_MockTest/'" style="margin-top:20px; background:var(--success); width:100%;">Back to Dashboard</button></div>`;

        const finalHtml = summaryBox + detailHtml;
        result.style.display="block"; result.innerHTML = finalHtml;
        quizArea.innerHTML=""; palette.style.display="none"; navBtns.style.display="none"; submitBtn.style.display="none";
        clearBtn.style.display="block"; window.scrollTo(0,0);
        
        localStorage.setItem(`finalResult_${MY_SUBJECT}_${level}`, JSON.stringify({ name:displayName.textContent, html: finalHtml }));

        emailjs.send("service_wq5yoyp", "template_doegpcp", {
            candidate_name: displayName.textContent,
            subject: MY_SUBJECT,
            score: correct,
            total: questions.length,
            attempted: attempted,
            accuracy: accuracy + "%",
            time_taken: `${Math.floor(timeTaken/60)}m ${timeTaken%60}s`,
            test_date: new Date().toLocaleString("en-IN")
        });
    }

    window.onload=function(){
        syncCountAndTime();
    };

    function clearResult(){ 
        const level = document.getElementById("difficultyLevel").value;
        if(confirm(`Clear result for ${level.toUpperCase()}?`)) { 
            localStorage.removeItem(`finalResult_${MY_SUBJECT}_${level}`);
            localStorage.removeItem(`inProgress_${MY_SUBJECT}_${level}`);
            location.reload(); 
        } 
    }
</script>
</body>
</html>


